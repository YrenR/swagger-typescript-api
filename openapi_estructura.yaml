---
openapi: 3.0.3
info:
  title: estructura API
  version: 1.0-SNAPSHOT
tags:
- name: Categoría de recursos materiales
  description: Servicio de categoria de recurso material
- name: Empleado
  description: Servicio REST de Empleado
- name: Empresa
  description: Servicio REST de Empresa
- name: EmpresaPrincipal
  description: Servicio REST de EmpresaPrincipal
- name: EmpresaPrincipal / Ug
  description: Servicio REST de la entidad Ug
- name: EmpresaPrincipal / Ut
  description: Servicio REST de la entidad Ut
- name: Imagen
  description: Servicio de imagenes para las entidades
- name: ImportacionEmpleados
  description: Servicio REST para importación de empleados
- name: ImportacionRecursosMateriales
  description: Servicio REST para importación de recursos materiales
- name: ImportacionUgs
  description: Servicio REST para importación de UG's
- name: ImportacionUts
  description: Servicio REST para importación de UT's
- name: Recurso material
  description: Servicio REST de recursos materiales
- name: RelacionContratacion
  description: Servicio REST de RelacionContratacion
- name: Relación contratación
- name: Relación contratación de recurso material
- name: Tipo Estructura Modulo
  description: Servicio REST de TipoEstructuraModulo
- name: TipoEstructura
  description: Servicio REST de TipoEstructura
- name: TipoRecursoMaterial
  description: Servicio de tipo recurso material
- name: TipoUg
  description: Servicio REST de TipoUg
- name: TipoUt
  description: Servicio REST de TipoUt
- name: UgUts
  description: Servicio REST de la entidad UgUt
- name: UsuarioUg
  description: Servicio REST de la entidad UsuarioUg
- name: UsuarioUt
  description: Servicio REST de la entidad UsuarioUt
- name: Usuarios
  description: Servicio REST de la entidad Usuario
paths:
  /estructura/v1/categorias-recursos-materiales:
    get:
      tags:
      - Categoría de recursos materiales
      summary: Devuelve el listado de categorías
      operationId: getCategoriasRecursosMateriales
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CategoriaRecursoMaterialDTO_GET"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
    post:
      tags:
      - Categoría de recursos materiales
      summary: Crea una nueva categoría de recurso material
      operationId: postCategoriaRecursoMaterial
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CategoriaRecursoMaterialDTO_POST_PUT"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CategoriaRecursoMaterialDTO_GET"
        "403":
          description: "- EST_0023: La categoría recurso material universal solo puede\
            \ estar asignada a una categoría"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/categorias-recursos-materiales/{idCategoria}:
    put:
      tags:
      - Categoría de recursos materiales
      summary: Actualiza una categoría existente
      operationId: putCategoriaRecursoMaterialPorIdCategoria
      parameters:
      - name: idCategoria
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CategoriaRecursoMaterialDTO_POST_PUT"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CategoriaRecursoMaterialDTO_GET"
        "404":
          description: Not found
        "403":
          description: |-
            - EST_0023: La categoría recurso material universal solo puede estar asignada a una categoría
             - EST_0039 : No se puede actualizar la categoria universal si tiene tipos de recursos material relacionados
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
    delete:
      tags:
      - Categoría de recursos materiales
      summary: Elimina una categoría de recurso material
      operationId: deleteCategoriaRecursoMaterialPorIdCategoria
      parameters:
      - name: idCategoria
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CategoriaRecursoMaterialDTO_GET"
        "403":
          description: "- EST_0036 : No se puede eliminar una categoria de recurso\
            \ material que se encuentre asignada a algún tipo recurso material"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
    parameters:
    - name: idCategoria
      in: path
      required: true
      schema:
        format: int32
        type: integer
  /estructura/v1/categorias-recursos-materiales/{idCategoria}/tipos-recursos-materiales:
    get:
      tags:
      - Categoría de recursos materiales
      summary: Devuelve todos los tipos de recursos materiales del sistema
      operationId: getTiposRecursosMaterialesPorIdCategoria
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TipoRecursoMaterialDTO_GET"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
    post:
      tags:
      - Categoría de recursos materiales
      summary: Crea un nuevo tipo de recurso material
      operationId: postTipoRecursoMaterialPorIdCategoria
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TipoRecursoMaterialDTO_POST_PUT"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TipoRecursoMaterialDTO_GET"
        "403":
          description: |-
            - EST_0025: El tipo recurso material universal solo puede estar asignado a un tipo recurso material
             - EST_0026: No se puede asignar un tipo recurso universal a un tipo recurso material con una categoría que no tiene categoría universal
             - EST_0065 : El tipo de recurso material debe de tener identificador 2
             - EST_0066 : El tipo de recurso material no debe de tener identificador 2
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
    parameters:
    - name: idCategoria
      in: path
      required: true
      schema:
        format: int32
        type: integer
  /estructura/v1/categorias-recursos-materiales/{idCategoria}/tipos-recursos-materiales/{idTipoRecursoMaterial}:
    put:
      tags:
      - Categoría de recursos materiales
      summary: Actualiza un tipo de recurso material existente
      operationId: putTipoRecursoMaterialPorIdCategoriaPorIdTipoRecursoMaterial
      parameters:
      - name: idTipoRecursoMaterial
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TipoRecursoMaterialDTO_POST_PUT"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TipoRecursoMaterialDTO_GET"
        "404":
          description: Not found
        "403":
          description: |-
            - EST_0025: El tipo recurso material universal solo puede estar asignado a un tipo recurso material
             - EST_0026: No se puede asignar un tipo recurso universal a un tipo recurso material con una categoría que no tiene categoría universal
             - EST_0065 : El tipo de recurso material debe de tener identificador 2
             - EST_0066 : El tipo de recurso material no debe de tener identificador 2
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
    delete:
      tags:
      - Categoría de recursos materiales
      summary: Borra un tipo de recurso material
      operationId: deleteTipoRecursoMaterialPorIdCategoriaPorIdTipoRecursoMaterial
      parameters:
      - name: idTipoRecursoMaterial
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TipoRecursoMaterialDTO_GET"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
    parameters:
    - name: idCategoria
      in: path
      required: true
      schema:
        format: int32
        type: integer
  /estructura/v1/empleados:
    get:
      tags:
      - Empleado
      summary: "Busca todos los empleados de una lista de empresas (lista IDs). Si\
        \ no se especifica lista, obtiene todos los empleados del entorno"
      operationId: getEmpleados
      parameters:
      - name: listaEmpresas
        in: query
        schema:
          type: array
          items:
            format: int32
            type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/EmpleadoDTO_GET"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas:
    get:
      tags:
      - Empresa
      summary: "Busca todas las empresas del sistema (Empresas de un esquema). Si\
        \ se especifica una lista de ID's, busca sólo las empresas correspondientes\
        \ a esos ID's"
      operationId: getEmpresas
      parameters:
      - name: listaIds
        in: query
        schema:
          type: array
          items:
            format: int32
            type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/EmpresaDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas-principales:
    get:
      tags:
      - EmpresaPrincipal
      summary: Busca la empresa principal del entorno
      operationId: getEmpresaPrincipal
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmpresaDtoResponse"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas-principales/{idEmpresa}/arbol-ugs:
    get:
      tags:
      - EmpresaPrincipal
      summary: Recupera el árbol de UGs relacionadas con una empresa principal
      operationId: getArbolUgsPorIdEmpresa
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresaAportante
        in: query
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UgArbolDtoResponse"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas-principales/{idEmpresa}/arbol-uts:
    get:
      tags:
      - EmpresaPrincipal
      summary: Recupera el árbol de UTs relacionadas con una empresa principal
      operationId: getArbolUtsPorIdEmpresa
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresaAportante
        in: query
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UtArbolDtoResponse"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas-principales/{idEmpresa}/ugs:
    get:
      tags:
      - EmpresaPrincipal / Ug
      summary: Busca las Ugs de una EmpresaPrincipal a partir de unos filtros
      description: |-
        - En caso de venir 'modoÁrbol' a true, se devolverá una estructura de ugs con todos sus hijos y si ponemos el 'idUgPadre' la estructura vendrá a partir de los hijos de este
            - Si 'modoÁrbol' viene a false, se devolverán las ugs filtradas y si ponemos el 'idUgPadre' vendrán a partir de los hijos de este"
            - Si 'obtenerInterna' es 'True' devolverá la UG cuyo tipo sea interno, si es 'False' lo excluye
      operationId: getUgsPorIdEmpresa
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idTipoEstructura
        in: query
        schema:
          format: int32
          type: integer
      - name: idTipoUg
        in: query
        schema:
          format: int32
          type: integer
      - name: idUgPadre
        in: query
        schema:
          format: int32
          type: integer
      - name: listaIds
        in: query
        schema:
          type: array
          items:
            format: int32
            type: integer
      - name: modoArbol
        in: query
        schema:
          type: boolean
      - name: nivel
        in: query
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UgDtoResponse"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: false
    post:
      tags:
      - EmpresaPrincipal / Ug
      summary: Inserta una Ug en una EmpresaPrincipal
      operationId: postUgPorIdEmpresa
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UgDTO_POST"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UgCreadaDtoResponse"
        "403":
          description: |-
            - EST_0052 : No puede crear una UG/UT, cuyo UG/UT padre ya que tiene relaciones con otras entidades
             - EST_0071: Solo puede existir una Ug o Ut interna en el sistema.
             - EST_0072: El padre del tipo no coincide con el tipo del padre
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/empresas-principales/{idEmpresa}/ugs/{idUg}:
    get:
      tags:
      - EmpresaPrincipal / Ug
      summary: Busca una Ug de una EmpresaPrincipal
      operationId: getUgPorIdEmpresaPorIdUg
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUg
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UgDtoResponse"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: false
    put:
      tags:
      - EmpresaPrincipal / Ug
      summary: Actualiza una Ug
      operationId: putUgPorIdEmpresaPorIdUg
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUg
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UgDTO_PUT"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UgDtoResponse"
        "403":
          description: "- EST_0037 : El id de la ug padre debe ser diferente al id\
            \ de la ug a actualizar"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
    delete:
      tags:
      - EmpresaPrincipal / Ug
      summary: Elimina una Ug de una EmpresaPrincipal
      operationId: deleteUgPorIdEmpresaPorIdUg
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUg
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UgDtoResponse"
        "403":
          description: "- EST_0032 : No se puede eliminar una ug relacionada con un\
            \ tipoUg interno"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/empresas-principales/{idEmpresa}/ugs/{idUg}/empleados:
    get:
      tags:
      - EmpresaPrincipal / Ug
      summary: Obtiene los empleados de una UG
      operationId: getEmpleadosPorIdEmpresaPorIdUg
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUg
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/EmpleadoDTO_GET"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas-principales/{idEmpresa}/ugs/{idUg}/existen-relaciones:
    get:
      tags:
      - EmpresaPrincipal / Ug
      summary: Indica si la ug seleccionada tiene o no relaciones en este u otro módulo
      operationId: getExistenRelacionesPorIdEmpresaPorIdUg
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUg
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ExistenRelacionesDtoResponse"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas-principales/{idEmpresa}/ugs/{idUg}/hijos:
    get:
      tags:
      - EmpresaPrincipal / Ug
      summary: Busca todos los hijos directos de una Ug
      operationId: getHijosPorIdEmpresaPorIdUg
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUg
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UgHijaDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: false
  /estructura/v1/empresas-principales/{idEmpresa}/ugs/{idUg}/recursos-materiales:
    get:
      tags:
      - EmpresaPrincipal / Ug
      summary: Obtiene los recursos materiales de una UG
      operationId: getRecursosMaterialesPorIdEmpresaPorIdUg
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUg
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RecursoMaterialDTO_GET"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas-principales/{idEmpresa}/ugs/{idUg}/uts:
    get:
      tags:
      - EmpresaPrincipal / Ug
      summary: Recupera todas las Uts relacionadas con una Ug
      operationId: getUtsPorIdEmpresaPorIdUg
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUg
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: modoArbol
        in: query
        schema:
          default: "false"
          type: boolean
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UtDtoResponse"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: false
    post:
      tags:
      - EmpresaPrincipal / Ug
      summary: Modifica las relaciones de una Ug con una o varias Uts
      operationId: postUtsPorIdEmpresaPorIdUg
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUg
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestBodyDobleListaInteger"
      responses:
        "200":
          description: OK
        "403":
          description: |-
            - EST_0034 : No se puede eliminar una relación con una Ut perteneciente a un TipoUt interno
             - EST_0073: No se puede realizar acciones con ugs o uts internas si el tipo de estructura no lo permite
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/empresas-principales/{idEmpresa}/ugs/{idUg}/uts-relacionadas:
    get:
      tags:
      - EmpresaPrincipal / Ug
      summary: Obtiene las uts relacionadas con una ug
      operationId: getUtsRelacionadasPorIdEmpresaPorIdUg
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUg
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpleado
        in: query
        schema:
          format: int32
          type: integer
      - name: idEmpresaAportante
        in: query
        schema:
          format: int32
          type: integer
      - name: modoArbol
        in: query
        schema:
          type: boolean
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UtDtoResponse"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas-principales/{idEmpresa}/ugs/{idUg}/uts/{idUt}/relaciones:
    post:
      tags:
      - EmpresaPrincipal / Ug
      summary: Inserta una relación contratación para una UgUt concreta
      description: "- Si uno de los campos idEmpresaQueSolicita o idRelacionPadre\
        \ no viene a null, ambos deben tener valor \n - El valor de idEmpresaQueSolicita\
        \ será el de idEmpresaQueAporta del idRelacionPadre"
      operationId: postRelacionesPorIdEmpresaPorIdUgPorIdUt
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUg
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUt
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RelacionContratacionDTO_POST"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RelacionContratacionDTO_GET"
        "403":
          description: |-
            - EST_0014: La UgUt de la relacion padre no coincide con el de la hija
             - EST_0015: La empresa aportante de la relación padre no coincide con empresa que solicita de la hija
             - EST_0018: No se puede crear una relación contratación para una empresa aportante que ya existe en niveles superiores
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/empresas-principales/{idEmpresa}/uts:
    get:
      tags:
      - EmpresaPrincipal / Ut
      summary: Busca las Uts de una EmpresaPrincipal a partir de unos filtros
      description: |-
        - En caso de venir 'modoÁrbol' a true, se devolverá una estructura de uts con todos sus hijos y si ponemos el 'idUtPadre' la estructura vendrá a
          partir de los hijos de este
            - Si 'modoÁrbol' viene a false, se devolverán las uts filtradas y si ponemos el 'idUtPadre' vendrán a partir de los hijos de este
            - Si 'obtenerInterna' es 'True' devolverá la UT cuyo tipo sea interno, si es 'False' lo excluye
      operationId: getUtsPorIdEmpresa
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idTipoEstructura
        in: query
        schema:
          format: int32
          type: integer
      - name: idTipoUt
        in: query
        schema:
          format: int32
          type: integer
      - name: idUtPadre
        in: query
        schema:
          format: int32
          type: integer
      - name: listaIds
        in: query
        schema:
          type: array
          items:
            format: int32
            type: integer
      - name: modoArbol
        in: query
        schema:
          type: boolean
      - name: nivel
        in: query
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UtDtoResponse"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: false
    post:
      tags:
      - EmpresaPrincipal / Ut
      summary: Inserta una Ut en una EmpresaPrincipal
      operationId: postUtPorIdEmpresa
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UtDTO_POST"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UtCreadaDtoResponse"
        "403":
          description: |-
            - EST_0052 : No puede crear una UG/UT, cuyo UG/UT padre ya que tiene relaciones con otras entidades
             - EST_0071: Solo puede existir una Ug o Ut interna en el sistema.
             - EST_0072: El padre del tipo no coincide con el tipo del padre
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/empresas-principales/{idEmpresa}/uts/{idUt}:
    get:
      tags:
      - EmpresaPrincipal / Ut
      summary: Busca una Ut de una EmpresaPrincipal
      operationId: getUtPorIdEmpresaPorIdUt
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUt
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UtDtoResponse"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: false
    put:
      tags:
      - EmpresaPrincipal / Ut
      summary: Actualiza una Ut
      operationId: putUtPorIdEmpresaPorIdUt
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUt
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UtDTO_PUT"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UtDtoResponse"
        "403":
          description: "- EST_0038 : El id de la ut padre debe ser diferente al id\
            \ de la ut a actualizar"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
    delete:
      tags:
      - EmpresaPrincipal / Ut
      summary: Elimina una Ut de una EmpresaPrincipal
      operationId: deleteUtPorIdEmpresaPorIdUt
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUt
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UtDtoResponse"
        "403":
          description: "- EST_0033 : No se puede eliminar una ut relacionada con un\
            \ tipoUt interno"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/empresas-principales/{idEmpresa}/uts/{idUt}/empleados:
    get:
      tags:
      - EmpresaPrincipal / Ut
      summary: Obtiene los empleados de una UT
      operationId: getEmpleadosPorIdEmpresaPorIdUt
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUt
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/EmpleadoDTO_GET"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas-principales/{idEmpresa}/uts/{idUt}/existen-relaciones:
    get:
      tags:
      - EmpresaPrincipal / Ut
      summary: Indica si la ut seleccionada tiene o no relaciones en este u otro módulo
      operationId: getExistenRelacionesPorIdEmpresaPorIdUt
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUt
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ExistenRelacionesDtoResponse"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas-principales/{idEmpresa}/uts/{idUt}/hijos:
    get:
      tags:
      - EmpresaPrincipal / Ut
      summary: Busca todos los hijos directos de una Ut
      operationId: getHijosPorIdEmpresaPorIdUt
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUt
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UtHijaDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: false
  /estructura/v1/empresas-principales/{idEmpresa}/uts/{idUt}/recursos-materiales:
    get:
      tags:
      - EmpresaPrincipal / Ut
      summary: Recupera los recursos materiales de una UT
      operationId: getRecursosMaterialesPorIdEmpresaPorIdUt
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUt
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RecursoMaterialDTO_GET"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/empresas-principales/{idEmpresa}/uts/{idUt}/ugs:
    get:
      tags:
      - EmpresaPrincipal / Ut
      summary: Recupera todas las Ugs relacionadas con una Ut
      operationId: getUgsPorIdEmpresaPorIdUt
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUt
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: modoArbol
        in: query
        schema:
          default: "false"
          type: boolean
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UtDtoResponse"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: false
    post:
      tags:
      - EmpresaPrincipal / Ut
      summary: Modifica las relaciones de una Ut con una o varias Ugs
      operationId: postUgPorIdEmpresaPorIdUt
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUt
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestBodyDobleListaInteger"
      responses:
        "200":
          description: OK
        "403":
          description: |-
            - EST_0034 : No se puede eliminar una relación con una Ut perteneciente a un TipoUt interno
             - EST_0073: No se puede realizar acciones con ugs o uts internas si el tipo de estructura no lo permite
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/empresas-principales/{idEmpresa}/uts/{idUt}/ugs-relacionadas:
    get:
      tags:
      - EmpresaPrincipal / Ut
      summary: Obtiene las ugs relacionadas con una ut
      operationId: getUgsRelacionadasPorIdEmpresaPorIdUt
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUt
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpleado
        in: query
        schema:
          format: int32
          type: integer
      - name: idEmpresaAportante
        in: query
        schema:
          format: int32
          type: integer
      - name: modoArbol
        in: query
        schema:
          type: boolean
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UgDtoResponse"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}:
    get:
      tags:
      - Empresa
      summary: Busca la empresa correspondiente al ID
      operationId: getEmpresaPorIdEmpresa
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmpresaDtoResponse"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/empleados:
    get:
      tags:
      - Empleado
      description: |-
        Recupera todos los empleados de una empresa.
        El flag sinAsignar a TRUE filtra el listado para devolver solo los empleados de la empresa que no estén asignados a una relación de contratación.
      operationId: getEmpleadosPorIdEmpresa
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: soloNoAsignados
        in: query
        schema:
          type: boolean
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/EmpleadoDTO_GET"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
    post:
      tags:
      - Empleado
      summary: Creación de un nuevo empleado para una empresa principal
      operationId: postEmpleadoPorIdEmpresa
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EmpleadoDTO_POST"
      responses:
        "201":
          description: Creado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmpleadoDTO_GET"
        "403":
          description: |-
            - EST_0002: No puede insertar un empleado para esta empresa, al no ser empresa principal
             - EST_0003: Ya existe un empleado para estos ID de persona e ID de empresa
             - EST_0005: La Fecha hasta debe ser posterior a la fecha desde
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/empleados-con-usuario:
    get:
      tags:
      - Empresa
      summary: Obtiene los empleados con un usuario asignado
      operationId: getEmpleadosConUsuarioPorIdEmpresa
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UsuarioEmpleadoDTO_GET"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/empleados/{idEmpleado}:
    get:
      tags:
      - Empleado
      summary: Recupera un empleado buscando por su clave primaria
      operationId: getEmpleadoPorIdEmpresaPorIdEmpleado
      parameters:
      - name: idEmpleado
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmpleadoDTO_GET"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
    put:
      tags:
      - Empleado
      summary: Actualiza un empleado existente
      operationId: putEmpleadoPorIdEmpresaPorIdEmpleado
      parameters:
      - name: idEmpleado
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EmpleadoDtoPut"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmpleadoDTO_GET"
        "403":
          description: |-
            - EST_0005: La Fecha hasta debe ser posterior a la fecha desde
             - EST_0050 : El empleado no puede recibir comunicaciones digitales sin un correo electrónico por defecto en su datos de contacto
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
    delete:
      tags:
      - Empleado
      summary: Eliminación de un empleado de una empresa principal
      operationId: deleteEmpleadoPorIdEmpresaPorIdEmpleado
      parameters:
      - name: idEmpleado
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmpleadoDTO_GET"
        "403":
          description: |-
            - EST_0002: No puede insertar un empleado para esta empresa, al no ser empresa principal
             - EST_0028 : No se puede eliminar un empleado que se encuentre asociado a otra empresa
        "404":
          description: Not found
        "401":
          description: Unauthorized
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/empleados/{idEmpleado}/arbol-ugs:
    get:
      tags:
      - Empleado
      summary: Recupera el árbol de UGs relacionadas con un empleado
      operationId: getArbolUgsPorIdEmpresaPorIdEmpleado
      parameters:
      - name: idEmpleado
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUt
        in: query
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UgArbolDtoResponse"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/empleados/{idEmpleado}/arbol-uts:
    get:
      tags:
      - Empleado
      summary: Recupera el árbol de UTs relacionadas con un empleado
      operationId: getArbolUtsPorIdEmpresaPorIdEmpleado
      parameters:
      - name: idEmpleado
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idUg
        in: query
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UtArbolDtoResponse"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/empleados/{idEmpleado}/estado-alta:
    get:
      tags:
      - Empleado
      summary: Comprueba si un empleado está en alta según las fechas
      operationId: getEstadoAltaPorIdEmpresaPorIdEmpleado
      parameters:
      - name: idEmpleado
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresaUgUt
        in: query
        schema:
          format: int32
          type: integer
      - name: idsUg
        in: query
        schema:
          type: array
          items:
            format: int32
            type: integer
      - name: idsUt
        in: query
        schema:
          type: array
          items:
            format: int32
            type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EstadoAltaDtoResponse"
        "403":
          description: |-
            - EST_0101: Alguna %s de la lista enviada no existe
             - EST_0102: El usuario no tiene acceso a las %s %s de la empresa %s
             - EST_0103: El parámetro idsUgs/idsUts no puede ser nulo si idEmpresaUgUt no lo es, y viceversa
        "404":
          description: Not found
        "401":
          description: Unauthorized
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/empleados/{idEmpleado}/recursos-materiales:
    get:
      tags:
      - Empleado
      summary: Recupera recursos materiales de un usuario con fechas actual
      operationId: getRecursosMaterialesPorIdEmpresaPorIdEmpleado
      parameters:
      - name: idEmpleado
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/HistoricoEmpleadoRecursoMaterialResponse"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
    post:
      tags:
      - Empleado
      summary: Crear/Modificar/Eliminar recursos materiales de un Empleado con fechas
        actual
      operationId: postRecursosMaterialesPorIdEmpresaPorIdEmpleado
      parameters:
      - name: idEmpleado
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestBodyTripleListaObjetoRecursoMaterialIdFechasDtoRequestRecursoMaterialDTO_PK"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecursosMaterialEmpleadoDtoResponse"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/empleados/{idEmpleado}/recursos-materiales/{idRecurso}/fechas-historicos:
    get:
      tags:
      - Empleado
      summary: Recupera recursos materiales de un Empleado con fechas y valor actual
      operationId: getFechasHistoricosPorIdEmpresaPorIdEmpleadoPorIdRecurso
      parameters:
      - name: idEmpleado
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idRecurso
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/HistoricoFechasDtoResponse"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/empleados/{idEmpleado}/relaciones-contratacion:
    get:
      tags:
      - Relación contratación
      summary: Obtiene las relaciones de contratación de un empleado
      operationId: getRelacionesContratacionPorIdEmpresaPorIdEmpleado
      parameters:
      - name: idEmpleado
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresaUgUt
        in: query
        required: true
        schema:
          format: int32
          type: integer
      - name: idTipoEstructura
        in: query
        schema:
          format: int32
          type: integer
      - name: idUg
        in: query
        schema:
          format: int32
          type: integer
      - name: idUt
        in: query
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RelacionContratacionEmpleadoFechasDtoResponse"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
    post:
      tags:
      - Relación contratación
      summary: Inserta/Elimina/Modifica las relaciones contratación en la relación
        con Empleado
      operationId: postRelacionesContratacionPorIdEmpresaPorIdEmpleado
      parameters:
      - name: idEmpleado
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestBodyTripleListaObjetoRelacionContratacionIdFechasDtoRequestRelacionContratacionEliminarDtoRequest"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RelacionesContratacionEmpleadoDtoResponse"
        "403":
          description: "- EST_0001: No se puede relacionar un empleado cuya empresa\
            \ sea distinta a la aportante de la relación de contratación"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/empleados/{idEmpleado}/relaciones-contratacion/{idRelacion}/fechas-historicos:
    get:
      tags:
      - Relación contratación
      summary: Muestra los históricos de un empleado con una relación de contratación
      operationId: getFechasHistoricosPorIdEmpresaPorIdEmpleadoPorIdRelacion
      parameters:
      - name: idEmpleado
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idRelacion
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/HistoricoFechasDtoResponse"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/empleados/{idEmpleado}/usuario:
    get:
      tags:
      - Empleado
      summary: Recupera el usuario que tiene asignado un empleado
      operationId: getUsuarioPorIdEmpresaPorIdEmpleado
      parameters:
      - name: idEmpleado
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UsuarioDTO_GET"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
    post:
      tags:
      - Empleado
      summary: Asigna un usuario a un empleado
      operationId: postUsuarioPorIdEmpresaPorIdEmpleado
      parameters:
      - name: idEmpleado
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UsuarioEmpleadoDTO_POST"
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmpleadoDTO_GET"
        "403":
          description: "- EST_0046 : El usuario ya está asociado a otro empleado"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/estado-alta:
    get:
      tags:
      - Empresa
      summary: Calcula el estado de alta de una empresa según sus fechas
      operationId: getEstadoAltaPorIdEmpresa
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idsUg
        in: query
        schema:
          type: array
          items:
            format: int32
            type: integer
      - name: idsUt
        in: query
        schema:
          type: array
          items:
            format: int32
            type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/EstadoAltaDtoResponse"
        "403":
          description: |-
            - EST_0101: Alguna %s de la lista enviada no existe
             - EST_0102: El usuario no tiene acceso a las %s %s de la empresa %s
             - EST_0096: Es necesario pasar alguno de los dos listados
        "404":
          description: Not Found
        "401":
          description: Unauthorized
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/recursos-materiales:
    get:
      tags:
      - Recurso material
      summary: Recupera los recursos materiales de una empresa permitiendo filtrar
        por categoría y por recurso material sin relación contratación
      operationId: getRecursosMaterialesPorIdEmpresa
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idCategoria
        in: query
        schema:
          format: int32
          type: integer
      - name: soloSinAsignar
        in: query
        schema:
          type: boolean
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RecursoMaterialDTO_GET"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
    post:
      tags:
      - Recurso material
      summary: Crea un nuevo recurso material para la empresa principal
      operationId: postRecursoMaterialPorIdEmpresa
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RecursoMaterialDTO_POST_PUT"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecursoMaterialDTO_GET"
        "403":
          description: |-
            - EST_0005: La Fecha hasta debe ser posterior a la fecha desde
             - EST_0006: No se pueden modificar recursos materiales que no pertenezcan a la empresa principal
             - EST_0007: Ya existe un recurso material con el mismo identificador, tipo recurso y empresa
             - EST_0067 : El recurso material debe de tener identificador 2
             - EST_0068 : El recurso material no debe de tener identificador 2
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/recursos-materiales/{idRecurso}:
    get:
      tags:
      - Recurso material
      summary: Recupera un recurso material a partir de su ID y del ID de la empresa
        a la que pertenece
      operationId: getRecursoMaterialPorIdEmpresaPorIdRecurso
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idRecurso
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecursoMaterialDTO_GET"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
    put:
      tags:
      - Recurso material
      summary: Modifica un recurso material de la empresa principal
      operationId: putRecursoMaterialPorIdEmpresaPorIdRecurso
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idRecurso
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RecursoMaterialDTO_POST_PUT"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecursoMaterialDTO_GET"
        "403":
          description: |-
            - EST_0005: La Fecha hasta debe ser posterior a la fecha desde
             - EST_0006: No se pueden modificar recursos materiales que no pertenezcan a la empresa principal
             - EST_0007: Ya existe un recurso material con el mismo identificador, tipo recurso y empresa
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
    delete:
      tags:
      - Recurso material
      summary: Elimina un recurso material de la empresa principal
      operationId: deleteRecursoMaterialPorIdEmpresaPorIdRecurso
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idRecurso
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecursoMaterialDTO_GET"
        "403":
          description: "- EST_0006: No se pueden modificar recursos materiales que\
            \ no pertenezcan a la empresa principal/n - EST_0029 : No se puede eliminar\
            \ un recurso material que se encuentre asociado a otra empresa"
        "404":
          description: Not found
        "401":
          description: Unauthorized
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/recursos-materiales/{idRecurso}/arbol-ugs:
    get:
      tags:
      - Recurso material
      summary: Recupera el árbol de UGs relacionadas con un recurso material
      operationId: getArbolUgsPorIdEmpresaPorIdRecurso
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idRecurso
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UgArbolDtoResponse"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/recursos-materiales/{idRecurso}/arbol-uts:
    get:
      tags:
      - Recurso material
      summary: Recupera el árbol de UTs relacionadas con un recurso material
      operationId: getArbolUtsPorIdEmpresaPorIdRecurso
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idRecurso
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UtArbolDtoResponse"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/recursos-materiales/{idRecurso}/empleados:
    get:
      tags:
      - Recurso material
      summary: Recupera los empleados de un recurso material junto a las fechas del
        histórico actual para cada recurso material
      operationId: getEmpleadosPorIdEmpresaPorIdRecurso
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idRecurso
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/EmpleadoFechasDtoResponse"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
    post:
      tags:
      - Recurso material
      summary: Inserta/Modifica/Elimina relaciones entre un recurso material y varios
        empleados.
      operationId: postEmpleadosPorIdEmpresaPorIdRecurso
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idRecurso
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestBodyTripleListaObjetoEmpleadoIdFechasDtoRequestEmpleadoIdDto"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmpleadosRecursoMaterialDtoRabbit"
        "403":
          description: "- EST_0070 : La empresa del recurso material tiene que coincidir\
            \ con la del empleado"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/recursos-materiales/{idRecurso}/estado-alta:
    get:
      tags:
      - Recurso material
      summary: Comprueba si un recurso material está en alta según las fechas
      operationId: getEstadoAltaPorIdEmpresaPorIdRecurso
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idRecurso
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresaUgUt
        in: query
        required: true
        schema:
          format: int32
          type: integer
      - name: idsUg
        in: query
        schema:
          type: array
          items:
            format: int32
            type: integer
      - name: idsUt
        in: query
        schema:
          type: array
          items:
            format: int32
            type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EstadoAltaDtoResponse"
        "403":
          description: |-
            - EST_0103: El parámetro idsUgs/idsUts no puede ser nulo si idEmpresaUgUt no lo es, y viceversa
             - EST_0102: El usuario no tiene acceso a las %s %s de la empresa %s
             - EST_0101: Alguna %s de la lista enviada no existe
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/recursos-materiales/{idRecurso}/relaciones-contratacion:
    get:
      tags:
      - Relación contratación de recurso material
      summary: Obtener relacion Contratacion Recursos con las fechas del historico
      operationId: getRelacionContratacionPorIdEmpresaPorIdRecurso
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idRecurso
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresaUgUt
        in: query
        schema:
          format: int32
          type: integer
      - name: idTipoEstructura
        in: query
        schema:
          format: int32
          type: integer
      - name: idUg
        in: query
        schema:
          format: int32
          type: integer
      - name: idUt
        in: query
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RelacionContratacionRecursoFechasDtoResponse"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
    post:
      tags:
      - Relación contratación de recurso material
      summary: Relacionar recursos materiales con relación de contratación
      operationId: postRelacionContratacionPorIdEmpresaPorIdRecurso
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idRecurso
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestBodyTripleListaObjetoRelacionContratacionIdFechasDtoRequestRelacionContratacionEliminarDtoRequest"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RelacionesContratacionRecursoMaterialDtoRabbit"
        "403":
          description: "- EST_0069 : El idEmpresa recurso material no es el mismo\
            \ id que la empresa aportante de relacion contratacion"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/empresas/{idEmpresa}/recursos-materiales/{idRecurso}/relaciones-contratacion/{idRelacion}/fechas-historicos:
    get:
      tags:
      - Relación contratación de recurso material
      summary: Obtiene los históricos entre un recurso y las relaciones de contratación
        relacionadas
      operationId: getFechasHistoricosPorIdEmpresaPorIdRecursoPorIdRelacion
      parameters:
      - name: idEmpresa
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idRecurso
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idRelacion
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/HistoricoFechasDtoResponse"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/imagen/tipo-entidad/{idTipoEntidad}/entidad/{idEntidad}:
    put:
      tags:
      - Imagen
      summary: Actualiza un logotipo a una entidad
      operationId: putEntidadPorIdTipoEntidadPorIdEntidad
      parameters:
      - name: idEntidad
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idTipoEntidad
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  format: binary
                  type: string
                fileName:
                  type: string
            encoding:
              fileName:
                contentType: text/plain
              file:
                contentType: application/octet-stream
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ArchivoDTO_GET"
        "403":
          description: "- EST_0062 : El tipo entidad introducido no es logotipo"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: false
    post:
      tags:
      - Imagen
      summary: Inserta un logotipo a una entidad
      operationId: postEntidadPorIdTipoEntidadPorIdEntidad
      parameters:
      - name: idEntidad
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idTipoEntidad
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  format: binary
                  type: string
                fileName:
                  type: string
            encoding:
              fileName:
                contentType: text/plain
              file:
                contentType: application/octet-stream
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ArchivoDTO_GET"
        "403":
          description: "- EST_0062 : El tipo entidad introducido no es logotipo"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: false
    delete:
      tags:
      - Imagen
      summary: Elimina un logotipo de una entidad
      operationId: deleteEntidadPorIdTipoEntidadPorIdEntidad
      parameters:
      - name: idEntidad
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idTipoEntidad
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ArchivoDTO_GET_INFO"
        "403":
          description: "- EST_0062 : El tipo entidad introducido no es logotipo"
        "401":
          description: Unauthorized
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: false
  /estructura/v1/imagen/tipo-entidad/{idTipoEntidad}/entidad/{idEntidad}/informacion:
    get:
      tags:
      - Imagen
      summary: "Comprueba que la entidad tiene logo, devuelve informacion"
      operationId: getInformacionPorIdTipoEntidadPorIdEntidad
      parameters:
      - name: idEntidad
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idTipoEntidad
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ArchivoDTO_GET_INFO"
        "403":
          description: "- EST_0062 : El tipo entidad introducido no es logotipo"
        "401":
          description: Unauthorized
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: false
  /estructura/v1/imagen/{uuid}:
    get:
      tags:
      - Imagen
      summary: Recupera el logo de una entidad por su uuid
      operationId: getImagenPorUuid
      parameters:
      - name: uuid
        in: path
        required: true
        schema:
          type: string
      - name: alto
        in: query
        schema:
          format: int32
          type: integer
      - name: ancho
        in: query
        schema:
          format: int32
          type: integer
      - name: modoMiniaturizacion
        in: query
        schema:
          $ref: "#/components/schemas/FormatoEnum"
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  format: byte
                  type: string
        "404":
          description: Not Found
  /estructura/v1/importacion/empleados/confirmacion:
    post:
      tags:
      - ImportacionEmpleados
      summary: Inserta los datos de los empleados pasados por el request en la BD
      operationId: postConfirmacionImportacionEmpleados
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConfirmacionPlantillaImportacionDtoRequest"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResultadoImportacionEmpleadosDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/importacion/empleados/plantilla:
    get:
      tags:
      - ImportacionEmpleados
      summary: Devuelve el binario del la plantilla de importacion de empleados
      operationId: getPlantillaImportacionEmpleados
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  format: byte
                  type: string
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: false
  /estructura/v1/importacion/empleados/validacion:
    post:
      tags:
      - ImportacionEmpleados
      summary: Ejecuta todas las validaciones pertinentes sobre el Excel de importación
        de empleados
      operationId: postValidacionImportacionEmpleados
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ValidacionPlantillaImportacionDtoRequest"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ResultadoImportacionEmpleadosDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/importacion/recursos-materiales/confirmacion:
    post:
      tags:
      - ImportacionRecursosMateriales
      summary: Importa los recursos materiales recibidos en el body según las opciones
        recibidas en la request
      operationId: postConfirmacionImportacionRecursosMateriales
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConfirmacionPlantillaImportacionDtoRequest"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ResultadoImportacionRecursosMaterialesDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/importacion/recursos-materiales/plantilla:
    get:
      tags:
      - ImportacionRecursosMateriales
      summary: Devuelve el binario de la plantilla de importacion de recursos materiales
      operationId: getPlantillaImportacionRecursosMateriales
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  format: byte
                  type: string
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: false
  /estructura/v1/importacion/recursos-materiales/validacion:
    post:
      tags:
      - ImportacionRecursosMateriales
      summary: Ejecuta todas las validaciones pertinentes sobre el Excel de importación
        de recursos materiales
      operationId: postValidacionImportacionRecursosMateriales
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ValidacionPlantillaImportacionDtoRequest"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ResultadoImportacionRecursosMaterialesDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/importacion/ugs/confirmacion:
    post:
      tags:
      - ImportacionUgs
      summary: Inserta los datos introducidos por el usuario en la plantilla de importación
        de ugs
      operationId: postConfirmacionImportacionUgs
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConfirmacionPlantillaImportacionDtoRequest"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ResultadoImportacionUgsUtsDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/importacion/ugs/plantilla:
    get:
      tags:
      - ImportacionUgs
      summary: Devuelve el binario del la plantilla de importacion de ugs
      operationId: getPlantillaImportacionUgs
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  format: byte
                  type: string
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: false
  /estructura/v1/importacion/ugs/validacion:
    post:
      tags:
      - ImportacionUgs
      summary: Ejecuta todas las validaciones pertinentes sobre el Excel de importación
        de ugs
      operationId: postValidacionImportacionUgs
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ValidacionPlantillaImportacionDtoRequest"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ResultadoImportacionUgsUtsDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/importacion/uts/confirmacion:
    post:
      tags:
      - ImportacionUts
      summary: Inserta los datos introducidos por el usuario en la plantilla de importación
        de uts
      operationId: postConfirmacionImportacionUts
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConfirmacionPlantillaImportacionDtoRequest"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ResultadoImportacionUgsUtsDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/importacion/uts/plantilla:
    get:
      tags:
      - ImportacionUts
      summary: Devuelve el binario del la plantilla de importacion de uts
      operationId: getPlantillaImportacionUts
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  format: byte
                  type: string
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: false
  /estructura/v1/importacion/uts/validacion:
    post:
      tags:
      - ImportacionUts
      summary: Ejecuta todas las validaciones pertinentes sobre el Excel de importación
        de uts
      operationId: postValidacionImportacionUts
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ValidacionPlantillaImportacionDtoRequest"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ResultadoImportacionUgsUtsDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/modulos/{idModulo}/tipos-estructuras:
    get:
      tags:
      - Tipo Estructura Modulo
      summary: Busca el tipo de estructura de un módulo concreto
      operationId: obtenerTipoEstructuraPorModulo
      parameters:
      - name: idModulo
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TipoEstructuraModuloDtoResponse"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: false
    post:
      tags:
      - Tipo Estructura Modulo
      summary: Crea la relación de un módulo con un tipo de estructura
      operationId: postTipoEstructuraPorIdModulo
      parameters:
      - name: idModulo
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TipoEstructuraModuloDtoRequest"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TipoEstructuraModuloDtoResponse"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/recursos-materiales:
    get:
      tags:
      - Recurso material
      summary: Busca todos los recursos materiales de un entorno a partir de unos
        filtros
      operationId: getRecursosMateriales
      parameters:
      - name: listaEmpresas
        in: query
        schema:
          type: array
          items:
            format: int32
            type: integer
      - name: listaIds
        in: query
        schema:
          type: array
          items:
            format: int32
            type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RecursoMaterialDTO_GET"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/relaciones-contratacion:
    get:
      tags:
      - RelacionContratacion
      summary: Recupera las relaciones de contratación a partir de unos filtros
      operationId: getRelacionesContratacion
      parameters:
      - name: idEmpresa
        in: query
        schema:
          format: int32
          type: integer
      - name: idEmpresaAportante
        in: query
        schema:
          format: int32
          type: integer
      - name: idEmpresaSolicitante
        in: query
        schema:
          format: int32
          type: integer
      - name: idRelacionPadre
        in: query
        schema:
          format: int32
          type: integer
      - name: idTipoEstructura
        in: query
        schema:
          format: int32
          type: integer
      - name: idUg
        in: query
        schema:
          format: int32
          type: integer
      - name: idUt
        in: query
        schema:
          format: int32
          type: integer
      - name: modoArbol
        in: query
        schema:
          type: boolean
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RelacionContratacionDTO_GET"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/relaciones-contratacion/{idRelacionContratacion}/empleados:
    get:
      tags:
      - RelacionContratacion
      summary: "Obtiene todos los empleados de una relación de contratación con fechas,\
        \ buscando por el ID de la misma"
      operationId: getEmpleadosPorIdRelacionContratacion
      parameters:
      - name: idRelacionContratacion
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresa
        in: query
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RelacionContratacionEmpleadoFechasDtoResponse"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
    post:
      tags:
      - RelacionContratacion
      summary: Inserta/Elimina/Modifica empleados en una relación de contratación
      operationId: postEmpleadosPorIdRelacionContratacion
      parameters:
      - name: idRelacionContratacion
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestBodyTripleListaObjetoRelacionContratacionEmpleadoIdFechasDtoRequestEmpleadoIdDto"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RelacionesContratacionEmpleadoDtoResponse"
        "403":
          description: "- EST_0001: No se puede relacionar un empleado cuya empresa\
            \ sea distinta a la aportante de la relación de contratación"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/relaciones-contratacion/{idRelacionContratacion}/recursos-materiales:
    get:
      tags:
      - RelacionContratacion
      summary: Recupera los recursos materiales relacionados con una relación contratación
      operationId: getRecursosMaterialesPorIdRelacionContratacion
      parameters:
      - name: idRelacionContratacion
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RelacionContratacionRecursoFechasDtoResponse"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
    post:
      tags:
      - RelacionContratacion
      summary: Insertar/Modificar/Eliminar relaciones de recursos materiales con una
        relación de contratación
      operationId: postRecursosMaterialesPorIdRelacionContratacion
      parameters:
      - name: idRelacionContratacion
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestBodyTripleListaObjetoRecursoMaterialIdFechasDtoRequestRecursoMaterialDTO_PK"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RelacionContratacionRecursoMaterialDTO_RABBIT"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/tipos-estructuras:
    get:
      tags:
      - TipoEstructura
      summary: Obtiene un listado de los tipos de estructura
      operationId: getTiposEstructuras
      parameters:
      - name: nombre
        in: query
        schema:
          type: string
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TipoEstructuraDtoListadoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
    post:
      tags:
      - TipoEstructura
      summary: Crea un nuevo tipo de estructura
      operationId: postTipoEstructura
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TipoEstructuraDtoCreacionRequest"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TipoEstructuraDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      x-permisos: true
  /estructura/v1/tipos-estructuras/arbol:
    get:
      tags:
      - TipoEstructura
      summary: Obtiene las jerarquías de TipoEstructuras y TiposUg/Ut
      operationId: getArbolTiposEstructuras
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TipoEstructuraDtoArbolResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      x-permisos: true
  /estructura/v1/tipos-estructuras/tipos-usos:
    get:
      tags:
      - TipoEstructura
      summary: Obtiene un objeto con las flags correspondientes a los tipos de uso
        especificando si se usan o no
      operationId: getTiposUsos
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TipoEstructuraTipoDeUsoDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/tipos-estructuras/{idTipoEstructura}:
    get:
      tags:
      - TipoEstructura
      summary: Busca la entidad correspondiente al parámetro
      operationId: getTipoEstructuraPorIdTipoEstructura
      parameters:
      - name: idTipoEstructura
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TipoEstructuraDtoResponse"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
    put:
      tags:
      - TipoEstructura
      summary: Actualiza la entidad en BD
      operationId: putTipoEstructuraPorIdTipoEstructura
      parameters:
      - name: idTipoEstructura
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TipoEstructuraDtoActualizacionRequest"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TipoEstructuraDtoResponse"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      x-permisos: true
    delete:
      tags:
      - TipoEstructura
      summary: Elimina la entidad en BD
      operationId: deleteTipoEstructuraPorIdTipoEstructura
      parameters:
      - name: idTipoEstructura
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TipoEstructuraDtoResponse"
        "403":
          description: "- EST_0059: No se puede eliminar un tipoEstructura que tenga\
            \ tipos de ug/ut asignadas - EST_0087: No se puede eliminar el tipo de\
            \ estructura ya que está siendo usada por algún módulo"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
      security:
      - jwt: []
      x-roles:
      - administrador
      x-permisos: true
  /estructura/v1/tipos-estructuras/{idTipoEstructura}/arbol-ugs:
    get:
      tags:
      - TipoEstructura
      summary: Obtiene el árbol de ugs asociada al tipo de estructura
      operationId: getArbolUgsPorIdTipoEstructura
      parameters:
      - name: idTipoEstructura
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UgArbolDtoResponse"
        "403":
          description: "- EST_0083: El tipo de estructura no usa ugs"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: false
  /estructura/v1/tipos-estructuras/{idTipoEstructura}/arbol-uts:
    get:
      tags:
      - TipoEstructura
      summary: Obtiene el árbol de uts asociada al tipo de estructura
      operationId: getArbolUtsPorIdTipoEstructura
      parameters:
      - name: idTipoEstructura
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UtArbolDtoResponse"
        "403":
          description: "- EST_0082: El tipo de estructura no usa uts"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: false
  /estructura/v1/tipos-estructuras/{idTipoEstructura}/ug-interna:
    get:
      tags:
      - TipoEstructura
      summary: Obtiene la ug interna asociada tipo de estructura
      operationId: getUgInternaPorIdTipoEstructura
      parameters:
      - name: idTipoEstructura
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UgTipoEstructuraDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/tipos-estructuras/{idTipoEstructura}/ut-interna:
    get:
      tags:
      - TipoEstructura
      summary: Obtiene la utInterna asociada al tipo de estructura
      operationId: getUtInternaPorIdTipoEstructura
      parameters:
      - name: idTipoEstructura
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UtTipoEstructuraDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
  /estructura/v1/tipos-recursos-materiales:
    get:
      tags:
      - TipoRecursoMaterial
      summary: Obtiene todos los tipos de recursos materiales
      operationId: getTiposRecursosMateriales
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TipoRecursoMaterialBasicoDto"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/tipos-ug:
    get:
      tags:
      - TipoUg
      summary: Obtiene los tipos de Ug a partir de unos filtros como 'listadIds' y
        idTipoUgPadre'
      description: |-
        - En caso de venir 'modoÁrbol' a true, se devolverá una estructura de tipos de ugs con todos sus hijos y si ponemos el 'idTipoUgPadre' la "
        estructura vendrá a partir de los hijos de este"
        - Si 'modoÁrbol' viene a false, se devolverán las ugs filtradas y si ponemos el 'idTipoUgPadre' vendrán a partir de los hijos de este"
        - Si idTipoUgPadre tiene valor, entonces se tiene en cuenta el parámetro soloHijosDirectos. Este parámetro es falso por defecto y "
        filtra los tipos para mostrar solo los del siguiente nivel"
        - Si 'obtenerInterna' es 'True' devolverá el Tipo UG interna, si es 'False' los que no lo son"
        - Si viene idTipoEstructura se busca por tipos que tengan ese idTipoEstructura"
        - Si viene nivel se busca por tipos que tengan ese nivel"
        - Si viene nombreSingular o nombrePlural se busca por ese nombre exacto
      operationId: getTiposUg
      parameters:
      - name: idTipoEstructura
        in: query
        schema:
          format: int32
          type: integer
      - name: idTipoUgPadre
        in: query
        schema:
          format: int32
          type: integer
      - name: listaIds
        in: query
        schema:
          type: array
          items:
            format: int32
            type: integer
      - name: modoArbol
        in: query
        schema:
          type: boolean
      - name: nivel
        in: query
        schema:
          format: int32
          type: integer
      - name: nombrePlural
        in: query
        schema:
          type: string
      - name: nombreSingular
        in: query
        schema:
          type: string
      - name: obtenerInterna
        in: query
        schema:
          default: false
          type: boolean
      - name: soloHijosDirectos
        in: query
        schema:
          default: "false"
          type: boolean
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TipoUgDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: false
    post:
      tags:
      - TipoUg
      summary: Crea una nueva entidad tipo Ug en BD
      operationId: postTipoUg
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TipoUgDtoCreacionRequest"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TipoUgDtoResponse"
        "403":
          description: "- EST_0053 : No se puede crear el TipoUg porque ya existe\
            \ uno con {nombreSingular: %s} o con {nombrePlural: %s}"
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      x-permisos: true
  /estructura/v1/tipos-ug/{idTipoUg}:
    get:
      tags:
      - TipoUg
      summary: Busca la entidad tipo Ug correspondiente al parámetro
      operationId: getTipoUgPorIdTipoUg
      parameters:
      - name: idTipoUg
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TipoUgDtoResponse"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
    put:
      tags:
      - TipoUg
      summary: Actualiza la entidad tipo Ug en BD
      operationId: putTipoUgPorIdTipoUg
      parameters:
      - name: idTipoUg
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TipoUgDtoActualizacionRequest"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TipoUgDtoResponse"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      x-permisos: true
    delete:
      tags:
      - TipoUg
      summary: Elimina la entidad tipo Ug en BD
      operationId: deleteTipoUgPorIdTipoUg
      parameters:
      - name: idTipoUg
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TipoUgDtoResponse"
        "403":
          description: |-
            - EST_0019: No se puede eliminar un tipoUg que tenga ugs asignadas
             - EST_0020: No se puede eliminar un tipoUg que tenga hijos
             - EST_0031 : No se puede eliminar un tipoUg interno
        "404":
          description: Not Found
        "401":
          description: Unauthorized
      security:
      - jwt: []
      x-roles:
      - administrador
      x-permisos: true
  /estructura/v1/tipos-ug/{idTipoUg}/usado:
    get:
      tags:
      - TipoUg
      summary: Comprueba si el tipo Ug está en uso
      operationId: getUsadoPorIdTipoUg
      parameters:
      - name: idTipoUg
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: boolean
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      x-permisos: true
  /estructura/v1/tipos-ut:
    get:
      tags:
      - TipoUt
      summary: Obtiene los tipos de Ut a partir de unos filtros como 'listadIds' y
        idTipoUtPadre'
      description: |-
        - En caso de venir 'modoArbol' a true, se devolverá una estructura de tipos de uts con todos sus hijos y si ponemos el 'idTipoUtPadre' la
                estructura vendrá a partir de los hijos de este
                 - Si 'modoArbol' viene a false, se devolverán las ugs filtradas y si ponemos el 'idTipoUtPadre' vendrán a partir de los hijos de este
                 - Si idTipoUtPadre tiene valor, entonces se tiene en cuenta el parámetro soloHijosDirectos. Este parámetro es falso por defecto y
                    filtra los tipos para mostrar solo los del siguiente nivel
                 - Si 'obtenerInterna' es 'True' devolverá el Tipo UT interna, si es 'False' los que no lo son
                 - Si viene idTipoEstructura se busca por tipos que tengan ese idTipoEstructura
                 - Si viene nivel se busca por tipos que tengan ese nivel
                 - Si viene nombreSingular o nombrePlural se busca por ese nombre exacto
      operationId: getTiposUts
      parameters:
      - name: idTipoEstructura
        in: query
        schema:
          format: int32
          type: integer
      - name: idTipoUtPadre
        in: query
        schema:
          format: int32
          type: integer
      - name: listaIds
        in: query
        schema:
          type: array
          items:
            format: int32
            type: integer
      - name: modoArbol
        in: query
        schema:
          type: boolean
      - name: nivel
        in: query
        schema:
          format: int32
          type: integer
      - name: nombrePlural
        in: query
        schema:
          type: string
      - name: nombreSingular
        in: query
        schema:
          type: string
      - name: obtenerInterna
        in: query
        schema:
          default: false
          type: boolean
      - name: soloHijosDirectos
        in: query
        schema:
          default: "false"
          type: boolean
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TipoUtDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: false
    post:
      tags:
      - TipoUt
      summary: Crea una nueva entidad tipo Ut en BD
      operationId: postTipoUt
      parameters:
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TipoUtDtoCreacionRequest"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TipoUtDtoResponse"
        "403":
          description: "- EST_0054 : No se puede crear el TipoUt porque ya existe\
            \ uno con {nombreSingular: %s} o con {nombrePlural: %s}"
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      x-permisos: true
  /estructura/v1/tipos-ut/{idTipoUt}:
    get:
      tags:
      - TipoUt
      summary: Busca la entidad correspondiente al parámetro
      operationId: getTipoUtPorIdTipoUt
      parameters:
      - name: idTipoUt
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TipoUtDtoResponse"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      - empresa_externo
      x-permisos: true
    put:
      tags:
      - TipoUt
      summary: Actualiza la entidad tipo Ut en BD
      operationId: putTipoUtPorIdTipoUt
      parameters:
      - name: idTipoUt
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TipoUtDtoActualizacionRequest"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TipoUtDtoResponse"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      x-permisos: true
    delete:
      tags:
      - TipoUt
      summary: Elimina la entidad tipo Ut en BD
      operationId: deleteTipoUtPorIdTipoUt
      parameters:
      - name: idTipoUt
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TipoUtDtoResponse"
        "403":
          description: |-
            - EST_0021: No se puede eliminar un tipoUt que tenga uts asignadas
             - EST_0022: No se puede eliminar un tipoUt que tenga hijos
             - EST_0030 : No se puede eliminar un tipoUt interno
        "404":
          description: Not Found
        "401":
          description: Unauthorized
      security:
      - jwt: []
      x-roles:
      - administrador
      x-permisos: true
  /estructura/v1/tipos-ut/{idTipoUt}/usado:
    get:
      tags:
      - TipoUt
      summary: Comprueba si el tipo Ut está en uso
      operationId: getUsadoPorIdTipoUt
      parameters:
      - name: idTipoUt
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: boolean
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      x-permisos: true
  /estructura/v1/uguts:
    get:
      tags:
      - UgUts
      summary: Busca todas las relaciones Ugs y Uts de una EmpresaPrincipal
      operationId: getUgsUts
      parameters:
      - name: idTipoEstructura
        in: query
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UgUtDTO_GET"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-permisos: true
  /estructura/v1/usuarios-ugs:
    get:
      tags:
      - UsuarioUg
      summary: Busca las relaciones de usuarios con ugs a partir de unos filtros
      operationId: getUsuariosUgs
      parameters:
      - name: idTipoEstructura
        in: query
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UsuarioUtDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-permisos: true
  /estructura/v1/usuarios-uts:
    get:
      tags:
      - UsuarioUt
      summary: Busca las relaciones de usuarios con uts a partir de unos filtros
      operationId: getUsuariosUts
      parameters:
      - name: idTipoEstructura
        in: query
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UsuarioUtDtoResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-permisos: true
  /estructura/v1/usuarios/{idUsuario}/empleado:
    get:
      tags:
      - Usuarios
      summary: Recupera las empleados relacionadas con un usuario
      operationId: getEmpleadoPorIdUsuario
      parameters:
      - name: idUsuario
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmpleadoDTO_GET"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
    put:
      tags:
      - Usuarios
      summary: Asigna un empleado a un usuario
      operationId: putEmpleadoPorIdUsuario
      parameters:
      - name: idUsuario
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EmpleadoUsuarioDTO_PUT"
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UsuarioDTO_GET"
        "403":
          description: "- EST_0046 : El usuario ya está asociado a otro empleado"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/usuarios/{idUsuario}/empleados:
    get:
      tags:
      - Usuarios
      summary: Recupera los empleados asociados con un usuario y relación de contratación
      operationId: getEmpleadosPorIdUsuario
      parameters:
      - name: idUsuario
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/EmpleadoIdDto"
        "401":
          description: Not Authorized
        "404":
          description: No encontrado
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      x-permisos: false
  /estructura/v1/usuarios/{idUsuario}/empresas:
    get:
      tags:
      - Usuarios
      summary: Recupera las empresas que puede ver un usuario
      operationId: getEmpresasPorIdUsuario
      parameters:
      - name: idUsuario
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: idEmpresa
        in: query
        schema:
          type: array
          items:
            format: int32
            type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/EmpresaDtoResponse1"
        "401":
          description: Not Authorized
        "404":
          description: Not Found
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      x-permisos: false
  /estructura/v1/usuarios/{idUsuario}/favoritos:
    get:
      tags:
      - Usuarios
      summary: Devuelve el listado de favoritos de un usuario en el árbol de navegación
      operationId: getFavoritosPorIdUsuario
      parameters:
      - name: idUsuario
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UsuarioNodoFavoritoDtoGet"
        "404":
          description: Not found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: false
    post:
      tags:
      - Usuarios
      summary: Inserta/Elimina favoritos para el árbol de navegación de un usuario
      operationId: postFavoritosPorIdUsuario
      parameters:
      - name: idUsuario
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestBodyDobleListaObjetoUsuarioNodoFavoritoDtoUsuarioNodoFavoritoDto"
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RelacionUsuarioNodoFavoritoDto"
        "404":
          description: Not Found
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: false
  /estructura/v1/usuarios/{idUsuario}/recursos-materiales:
    get:
      tags:
      - Usuarios
      summary: Recupera los recursos materiales que puede ver un usuario
      operationId: getRecursosMaterialesPorIdUsuario
      parameters:
      - name: idUsuario
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RecursoMaterialDTO_PK"
        "401":
          description: Not Authorized
        "404":
          description: No encontrado
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      x-permisos: false
  /estructura/v1/usuarios/{idUsuario}/relaciones-contratacion:
    get:
      tags:
      - Usuarios
      summary: Recupera las relaciones de contratación que puede ver un usuario
      operationId: getRelacinesContratacionPorIdUsuario
      parameters:
      - name: idUsuario
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RelacionContratacionUsuarioDtoResponse"
        "401":
          description: Not Authorized
        "404":
          description: No encontrado
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/usuarios/{idUsuario}/ugs:
    get:
      tags:
      - Usuarios
      summary: Recupera las UGs relacionadas con un usuario
      operationId: getUgsPorIdUsuario
      parameters:
      - name: idUsuario
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: incluirPadres
        in: query
        schema:
          type: boolean
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UgDtoResponse"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
    post:
      tags:
      - Usuarios
      summary: Añade y elimina UGs a un usuario
      operationId: postUgsPorIdUsuario
      parameters:
      - name: idUsuario
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestBodyDobleListaInteger"
      responses:
        "200":
          description: OK
        "403":
          description: |-
            - EST_0044 : No se pueden relacionar varias veces una misma UG y un mismo usuario
             - EST_0045 : No se puede eliminar la relación entre una UG y un usuario que no estén relacionados
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
  /estructura/v1/usuarios/{idUsuario}/uts:
    get:
      tags:
      - Usuarios
      summary: Recupera las UTs relacionadas con un usuario
      operationId: getUtsPorIdUsuarios
      parameters:
      - name: idUsuario
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: incluirPadres
        in: query
        schema:
          type: boolean
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UtDtoResponse"
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
    post:
      tags:
      - Usuarios
      summary: Añade y elimina UTs a un usuario
      operationId: postUtsPorIdUsuario
      parameters:
      - name: idUsuario
        in: path
        required: true
        schema:
          format: int32
          type: integer
      - name: X-Timezone
        in: header
        description: Zona horaria desde la que se hace la petición
        required: true
        schema:
          default: Europe/Madrid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestBodyDobleListaInteger"
      responses:
        "200":
          description: OK
        "403":
          description: |-
            - EST_0041 : No se pueden relacionar varias veces una misma UT y un mismo usuario
             - EST_0042 : No se puede eliminar la relación entre una UT y un usuario que no estén relacionados
        "404":
          description: No encontrado
        "401":
          description: Unauthorized
        "400":
          description: Bad Request
      security:
      - jwt: []
      x-roles:
      - administrador
      - empresa_interno
      x-permisos: true
components:
  schemas:
    ArchivoDTO_GET:
      required:
      - idTipoEntidad
      - idEntidad
      - observaciones
      - nombre
      - binario
      type: object
      properties:
        idTipoEntidad:
          format: int32
          pattern: "^\\d{1,11}$"
          type: integer
        idEntidad:
          format: int32
          pattern: "^\\d{1,11}$"
          type: integer
        idTipoEntidadSecundaria:
          format: int32
          pattern: "^\\d{1,11}$"
          type: integer
        idEntidadSecundaria:
          format: int32
          pattern: "^\\d{1,11}$"
          type: integer
        observaciones:
          maxLength: 4096
          type: string
        nombre:
          maxLength: 64
          type: string
        binario:
          format: binary
          type: string
        esCreacion:
          type: boolean
        extension:
          type: string
        numeroPaginas:
          format: int32
          type: integer
        idArchivo:
          format: int32
          type: integer
        uuid:
          type: string
        idEntorno:
          format: int32
          type: integer
        fechaInsercion:
          $ref: "#/components/schemas/ZonedDateTime"
        fechaModificacion:
          $ref: "#/components/schemas/ZonedDateTime"
        tamano:
          format: int32
          type: integer
    ArchivoDTO_GET_INFO:
      type: object
      properties:
        existe:
          type: boolean
        uuid:
          type: string
        fechaInsercion:
          $ref: "#/components/schemas/ZonedDateTime"
        fechaModificacion:
          $ref: "#/components/schemas/ZonedDateTime"
        tamano:
          format: int32
          type: integer
        extension:
          type: string
        nombre:
          type: string
        observaciones:
          type: string
        idArchivo:
          format: int32
          type: integer
        numeroPaginas:
          format: int32
          type: integer
    CategoriaRecursoMaterialDTO_GET:
      required:
      - icono
      - nombre
      - observaciones
      type: object
      properties:
        icono:
          maxLength: 45
          type: string
        nombre:
          maxLength: 255
          type: string
        observaciones:
          maxLength: 4096
          type: string
        idCategoriaUniversal:
          format: int32
          type: integer
        idCategoria:
          format: int32
          type: integer
    CategoriaRecursoMaterialDTO_GET1:
      required:
      - nombre
      - observaciones
      - idPais
      - idCategoria
      type: object
      properties:
        nombre:
          maxLength: 45
          type: string
        observaciones:
          maxLength: 4096
          type: string
        idPais:
          format: int32
          type: integer
        idCategoria:
          format: int32
          type: integer
    CategoriaRecursoMaterialDTO_POST_PUT:
      required:
      - icono
      - nombre
      - observaciones
      type: object
      properties:
        icono:
          maxLength: 45
          type: string
        nombre:
          maxLength: 255
          type: string
        observaciones:
          maxLength: 4096
          type: string
        idCategoriaUniversal:
          format: int32
          type: integer
    ConfirmacionPlantillaImportacionDtoRequest:
      type: object
      properties:
        json:
          type: string
        asignarTodos:
          type: boolean
        idUg:
          format: int32
          type: integer
        idsUt:
          type: array
          items:
            format: int32
            type: integer
        idUt:
          format: int32
          type: integer
        idsUg:
          type: array
          items:
            format: int32
            type: integer
    DayOfWeek:
      enum:
      - MONDAY
      - TUESDAY
      - WEDNESDAY
      - THURSDAY
      - FRIDAY
      - SATURDAY
      - SUNDAY
      type: string
    Duration:
      format: duration
      type: string
      example: P1D
    EmpleadoDTO_GET:
      required:
      - dni
      - nombre
      - apellido1
      - apellido2
      - tipoDocId
      - idPaisDni
      - observaciones
      type: object
      properties:
        dni:
          maxLength: 45
          minLength: 3
          type: string
        nombre:
          maxLength: 128
          minLength: 3
          type: string
        apellido1:
          maxLength: 128
          minLength: 3
          type: string
        apellido2:
          maxLength: 128
          type: string
        tipoDocId:
          maxLength: 45
          minLength: 3
          type: string
        idPaisDni:
          format: int32
          type: integer
        idEmpleado:
          format: int32
          type: integer
        idUsuario:
          format: int32
          type: integer
        idPersona:
          format: int32
          type: integer
        observaciones:
          maxLength: 1024
          type: string
        empresa:
          $ref: "#/components/schemas/EmpresaDtoResponse"
        idUltimoMensajeRabbit:
          type: string
        permiteComunicacionesDigitales:
          type: boolean
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        categoriaPuesto:
          type: string
    EmpleadoDTO_POST:
      required:
      - dni
      - nombre
      - apellido1
      - apellido2
      - tipoDocId
      - idPaisDni
      - observaciones
      - categoriaPuesto
      type: object
      properties:
        dni:
          maxLength: 45
          minLength: 3
          type: string
        nombre:
          maxLength: 128
          minLength: 3
          type: string
        apellido1:
          maxLength: 128
          minLength: 3
          type: string
        apellido2:
          maxLength: 128
          type: string
        tipoDocId:
          maxLength: 45
          minLength: 3
          type: string
        idPaisDni:
          format: int32
          type: integer
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        observaciones:
          maxLength: 1024
          type: string
        categoriaPuesto:
          type: string
    EmpleadoDtoPut:
      required:
      - permiteComunicacionesDigitales
      - fechaDesde
      - fechaHasta
      - observaciones
      - categoriaPuesto
      type: object
      properties:
        permiteComunicacionesDigitales:
          type: boolean
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        observaciones:
          type: string
        categoriaPuesto:
          type: string
    EmpleadoFechasDtoResponse:
      type: object
      properties:
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        actual:
          type: boolean
        empleado:
          $ref: "#/components/schemas/EmpleadoDTO_GET"
    EmpleadoIdDto:
      required:
      - idEmpleado
      - idEmpresa
      type: object
      properties:
        idEmpleado:
          format: int32
          type: integer
        idEmpresa:
          format: int32
          type: integer
    EmpleadoIdFechasDtoRequest:
      required:
      - fechaDesde
      - fechaHasta
      - idEmpresa
      - idEmpleado
      type: object
      properties:
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        idEmpresa:
          format: int32
          type: integer
        idEmpleado:
          format: int32
          type: integer
    EmpleadoUsuarioDTO_PUT:
      required:
      - idEmpresa
      - idEmpleado
      type: object
      properties:
        idEmpresa:
          format: int32
          type: integer
        idEmpleado:
          format: int32
          type: integer
    EmpleadosRecursoMaterialDtoRabbit:
      type: object
      properties:
        listadoInsertados:
          type: array
          items:
            $ref: "#/components/schemas/EmpleadoFechasDtoResponse"
        listadoEditados:
          type: array
          items:
            $ref: "#/components/schemas/EmpleadoFechasDtoResponse"
        listadoEliminados:
          type: array
          items:
            $ref: "#/components/schemas/EmpleadoIdDto"
        recursoMaterial:
          $ref: "#/components/schemas/RecursoMaterialDto"
    EmpresaDtoResponse:
      type: object
      properties:
        idEmpresa:
          format: int32
          type: integer
        cif:
          type: string
        nombre:
          type: string
    EmpresaDtoResponse1:
      type: object
      properties:
        idEmpresa:
          format: int32
          type: integer
        cif:
          type: string
        nombre:
          type: string
    EstadoAltaDtoResponse:
      required:
      - estado
      type: object
      properties:
        estado:
          type: boolean
    ExistenRelacionesDtoResponse:
      type: object
      properties:
        existen:
          type: boolean
    FormatoEnum:
      enum:
      - CROP_CENTRADO
      - REESCALADO
      - REESCALADO_ALTO
      - REESCALADO_ANCHO
      type: string
    HistoricoEmpleadoRecursoMaterialResponse:
      type: object
      properties:
        recurso:
          $ref: "#/components/schemas/RecursoMaterialDto"
        fechaDesde:
          type: string
        fechaHasta:
          type: string
    HistoricoFechasDtoResponse:
      required:
      - fechaDesde
      - fechaHasta
      type: object
      properties:
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        actual:
          type: boolean
    Instant:
      format: date-time
      type: string
      example: 2022-03-10T16:15:50Z
    LocalDateTime:
      format: date-time
      type: string
      example: 2022-03-10T12:15:50
    LocalTime:
      format: local-time
      type: string
      externalDocs:
        description: As defined by 'partial-time' in RFC3339
        url: https://www.rfc-editor.org/rfc/rfc3339.html#section-5.6
      example: 13:45:30.123456789
    ModuloEnum:
      enum:
      - ESTRUCTURA
      - CAE
      - CA
      - FORMULARIOS
      - METAMARKET
      - MQL
      - TAREAS
      - PROVEEDORES
      type: string
    Month:
      enum:
      - JANUARY
      - FEBRUARY
      - MARCH
      - APRIL
      - MAY
      - JUNE
      - JULY
      - AUGUST
      - SEPTEMBER
      - OCTOBER
      - NOVEMBER
      - DECEMBER
      type: string
    PriorizarUgUtEnum:
      enum:
      - UG
      - UT
      type: string
    RecursoMaterialDTO_GET:
      required:
      - identificador1
      - identificador2
      - nombre
      - observaciones
      - categoria
      - tipoRecursoMaterial
      type: object
      properties:
        identificador1:
          maxLength: 45
          minLength: 1
          type: string
        identificador2:
          maxLength: 45
          type: string
        nombre:
          maxLength: 255
          minLength: 1
          type: string
        observaciones:
          maxLength: 4096
          type: string
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        idRecurso:
          format: int32
          type: integer
        empresa:
          $ref: "#/components/schemas/EmpresaDtoResponse"
        categoria:
          $ref: "#/components/schemas/CategoriaRecursoMaterialDTO_GET"
        tipoRecursoMaterial:
          $ref: "#/components/schemas/TipoRecursoMaterialDTO_GET"
    RecursoMaterialDTO_PK:
      required:
      - idRecurso
      - idEmpresa
      type: object
      properties:
        idRecurso:
          format: int32
          type: integer
        idEmpresa:
          format: int32
          type: integer
    RecursoMaterialDTO_POST_PUT:
      required:
      - identificador1
      - identificador2
      - nombre
      - observaciones
      - idCategoria
      - idTipoRecursoMaterial
      type: object
      properties:
        identificador1:
          maxLength: 45
          minLength: 1
          type: string
        identificador2:
          maxLength: 45
          type: string
        nombre:
          maxLength: 255
          minLength: 1
          type: string
        observaciones:
          maxLength: 4096
          type: string
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        idCategoria:
          format: int32
          type: integer
        idTipoRecursoMaterial:
          format: int32
          type: integer
    RecursoMaterialDto:
      type: object
      properties:
        identificador1:
          type: string
        identificador2:
          type: string
        nombre:
          type: string
        observaciones:
          type: string
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        idRecurso:
          format: int32
          type: integer
        empresa:
          $ref: "#/components/schemas/EmpresaDtoResponse"
        tipoRecursoMaterial:
          $ref: "#/components/schemas/TipoRecursoMaterialBasicoDto"
        categoria:
          $ref: "#/components/schemas/CategoriaRecursoMaterialDTO_GET"
    RecursoMaterialFechasDtoResponse:
      type: object
      properties:
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        recursos:
          $ref: "#/components/schemas/RecursoMaterialDTO_GET"
    RecursoMaterialIdFechasDtoRequest:
      required:
      - idEmpresa
      - idRecurso
      - fechaDesde
      - fechaHasta
      type: object
      properties:
        idEmpresa:
          format: int32
          type: integer
        idRecurso:
          format: int32
          type: integer
        fechaDesde:
          type: string
        fechaHasta:
          type: string
    RecursosMaterialEmpleadoDtoResponse:
      type: object
      properties:
        listadoEliminados:
          type: array
          items:
            $ref: "#/components/schemas/RecursoMaterialDTO_PK"
        listadoInsertados:
          type: array
          items:
            $ref: "#/components/schemas/RecursoMaterialFechasDtoResponse"
        listadoModificados:
          type: array
          items:
            $ref: "#/components/schemas/RecursoMaterialFechasDtoResponse"
        empleado:
          $ref: "#/components/schemas/EmpleadoDTO_GET"
    RelacionContratacionDTO_GET:
      type: object
      properties:
        idRelacion:
          format: int32
          type: integer
        empresaQueAporta:
          $ref: "#/components/schemas/EmpresaDtoResponse"
        empresaQueSolicita:
          $ref: "#/components/schemas/EmpresaDtoResponse"
        empresa:
          $ref: "#/components/schemas/EmpresaDtoResponse"
        ugUt:
          $ref: "#/components/schemas/UgUtDTO_GET"
        nombre:
          type: string
        nivel:
          format: int32
          type: integer
        idRelacionPadre:
          format: int32
          type: integer
        relacionesContratacion:
          type: array
          items:
            $ref: "#/components/schemas/RelacionContratacionDTO_GET"
    RelacionContratacionDTO_POST:
      required:
      - idEmpresaQueAporta
      - nombre
      type: object
      properties:
        idEmpresaQueAporta:
          format: int32
          type: integer
        idEmpresaQueSolicita:
          format: int32
          type: integer
        idRelacionPadre:
          format: int32
          type: integer
        nombre:
          type: string
    RelacionContratacionEliminarDtoRequest:
      required:
      - idUg
      - idUt
      - idEmpresa
      type: object
      properties:
        idUg:
          format: int32
          type: integer
        idUt:
          format: int32
          type: integer
        idEmpresa:
          format: int32
          type: integer
    RelacionContratacionEmpleadoFechasDtoResponse:
      type: object
      properties:
        empleado:
          $ref: "#/components/schemas/EmpleadoDTO_GET"
        relacion:
          $ref: "#/components/schemas/RelacionContratacionDTO_GET"
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        actual:
          type: boolean
    RelacionContratacionEmpleadoIdFechasDtoRequest:
      required:
      - fechaDesde
      - fechaHasta
      - idEmpleado
      - idEmpresa
      type: object
      properties:
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        idEmpleado:
          format: int32
          type: integer
        idEmpresa:
          format: int32
          type: integer
    RelacionContratacionFechasDtoResponse:
      type: object
      properties:
        actual:
          type: boolean
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        relacionContratacion:
          $ref: "#/components/schemas/RelacionContratacionDTO_GET"
        empleado:
          $ref: "#/components/schemas/EmpleadoDTO_GET"
    RelacionContratacionIdFechasDtoRequest:
      required:
      - fechaDesde
      - fechaHasta
      - idUg
      - idUt
      - idEmpresa
      type: object
      properties:
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        idUg:
          format: int32
          type: integer
        idUt:
          format: int32
          type: integer
        idEmpresa:
          format: int32
          type: integer
    RelacionContratacionRecursoFechasDtoResponse:
      type: object
      properties:
        recurso:
          $ref: "#/components/schemas/RecursoMaterialDTO_GET"
        relacion:
          $ref: "#/components/schemas/RelacionContratacionDTO_GET"
        actual:
          type: boolean
        fechaDesde:
          type: string
        fechaHasta:
          type: string
    RelacionContratacionRecursoMaterialDTO_RABBIT:
      type: object
      properties:
        idRelacion:
          format: int32
          type: integer
        recursosMaterialesInsertar:
          type: array
          items:
            $ref: "#/components/schemas/RecursoMaterialDTO_PK"
        recursosMaterialesModificado:
          type: array
          items:
            $ref: "#/components/schemas/RecursoMaterialDTO_PK"
        recursosMaterialesEliminar:
          type: array
          items:
            $ref: "#/components/schemas/RecursoMaterialDTO_PK"
    RelacionContratacionUsuarioDtoResponse:
      type: object
      properties:
        idRelacion:
          format: int32
          type: integer
        idUg:
          format: int32
          type: integer
        idUt:
          format: int32
          type: integer
    RelacionUsuarioNodoFavoritoDto:
      required:
      - idUsuario
      type: object
      properties:
        idUsuario:
          format: int32
          type: integer
        listadoInsertados:
          type: array
          items:
            $ref: "#/components/schemas/UsuarioNodoFavoritoDto"
        listadoEliminados:
          type: array
          items:
            $ref: "#/components/schemas/UsuarioNodoFavoritoDto"
    RelacionesContratacionEmpleadoDtoResponse:
      type: object
      properties:
        listadoInsertados:
          type: array
          items:
            $ref: "#/components/schemas/RelacionContratacionFechasDtoResponse"
        listadoEditados:
          type: array
          items:
            $ref: "#/components/schemas/RelacionContratacionFechasDtoResponse"
        listadoEliminados:
          type: array
          items:
            $ref: "#/components/schemas/RelacionContratacionFechasDtoResponse"
    RelacionesContratacionRecursoMaterialDtoRabbit:
      type: object
      properties:
        recursoMaterial:
          $ref: "#/components/schemas/RecursoMaterialDTO_GET"
        listadoEditados:
          type: array
          items:
            $ref: "#/components/schemas/RelacionContratacionFechasDtoResponse"
        listadoInsertados:
          type: array
          items:
            $ref: "#/components/schemas/RelacionContratacionFechasDtoResponse"
        listadoEliminados:
          type: array
          items:
            format: int32
            type: integer
    RequestBodyDobleListaInteger:
      required:
      - listadoInsertar
      - listadoEliminar
      type: object
      properties:
        listadoInsertar:
          type: array
          items:
            format: int32
            type: integer
        listadoEliminar:
          type: array
          items:
            format: int32
            type: integer
    RequestBodyDobleListaObjetoUsuarioNodoFavoritoDtoUsuarioNodoFavoritoDto:
      required:
      - listadoInsertar
      - listadoEliminar
      type: object
      properties:
        listadoInsertar:
          type: array
          items:
            $ref: "#/components/schemas/UsuarioNodoFavoritoDto"
        listadoEliminar:
          type: array
          items:
            $ref: "#/components/schemas/UsuarioNodoFavoritoDto"
    RequestBodyTripleListaObjetoEmpleadoIdFechasDtoRequestEmpleadoIdDto:
      required:
      - listadoInsertar
      - listadoModificar
      - listadoEliminar
      type: object
      properties:
        listadoInsertar:
          type: array
          items:
            $ref: "#/components/schemas/EmpleadoIdFechasDtoRequest"
        listadoModificar:
          type: array
          items:
            $ref: "#/components/schemas/EmpleadoIdFechasDtoRequest"
        listadoEliminar:
          type: array
          items:
            $ref: "#/components/schemas/EmpleadoIdDto"
    RequestBodyTripleListaObjetoRecursoMaterialIdFechasDtoRequestRecursoMaterialDTO_PK:
      required:
      - listadoInsertar
      - listadoModificar
      - listadoEliminar
      type: object
      properties:
        listadoInsertar:
          type: array
          items:
            $ref: "#/components/schemas/RecursoMaterialIdFechasDtoRequest"
        listadoModificar:
          type: array
          items:
            $ref: "#/components/schemas/RecursoMaterialIdFechasDtoRequest"
        listadoEliminar:
          type: array
          items:
            $ref: "#/components/schemas/RecursoMaterialDTO_PK"
    RequestBodyTripleListaObjetoRelacionContratacionEmpleadoIdFechasDtoRequestEmpleadoIdDto:
      required:
      - listadoInsertar
      - listadoModificar
      - listadoEliminar
      type: object
      properties:
        listadoInsertar:
          type: array
          items:
            $ref: "#/components/schemas/RelacionContratacionEmpleadoIdFechasDtoRequest"
        listadoModificar:
          type: array
          items:
            $ref: "#/components/schemas/RelacionContratacionEmpleadoIdFechasDtoRequest"
        listadoEliminar:
          type: array
          items:
            $ref: "#/components/schemas/EmpleadoIdDto"
    RequestBodyTripleListaObjetoRelacionContratacionIdFechasDtoRequestRelacionContratacionEliminarDtoRequest:
      required:
      - listadoInsertar
      - listadoModificar
      - listadoEliminar
      type: object
      properties:
        listadoInsertar:
          type: array
          items:
            $ref: "#/components/schemas/RelacionContratacionIdFechasDtoRequest"
        listadoModificar:
          type: array
          items:
            $ref: "#/components/schemas/RelacionContratacionIdFechasDtoRequest"
        listadoEliminar:
          type: array
          items:
            $ref: "#/components/schemas/RelacionContratacionEliminarDtoRequest"
    ResultadoImportacionEmpleadosDtoResponse:
      type: object
      properties:
        dni:
          type: string
        nombre:
          type: string
        apellido1:
          type: string
        apellido2:
          type: string
        pais:
          type: string
        fechaInicio:
          type: string
        fechaFin:
          type: string
        puesto:
          type: string
        informacionAdicional:
          type: string
        error:
          type: boolean
        mensajesError:
          type: object
          additionalProperties:
            type: string
    ResultadoImportacionRecursosMaterialesDtoResponse:
      type: object
      properties:
        nombre:
          type: string
        fechaInicio:
          type: string
        fechaFin:
          type: string
        informacionAdicional:
          type: string
        error:
          type: boolean
        mensajesError:
          type: object
          additionalProperties:
            type: string
        identificador1:
          type: string
        identificador2:
          type: string
        categoria:
          type: string
        tipo:
          type: string
    ResultadoImportacionUgsUtsDtoResponse:
      type: object
      properties:
        nombre:
          type: string
        fechaInicio:
          type: string
        fechaFin:
          type: string
        tipo:
          type: string
        informacionAdicional:
          type: string
        porDefectoNuevosEmpleados:
          type: boolean
        porDefectoNuevosRecursosMateriales:
          type: boolean
        porDefectoNuevosUsuarios:
          type: boolean
        porDefectoNuevasEmpresasExternas:
          type: boolean
        error:
          type: boolean
        mensajesError:
          type: object
          additionalProperties:
            type: string
    TimeDefinition:
      enum:
      - UTC
      - WALL
      - STANDARD
      type: string
    TipoEntidadNodoEnum:
      enum:
      - TIPO_UG
      - TIPO_UT
      - UG
      - UT
      type: string
    TipoEstructuraDtoActualizacionRequest:
      required:
      - nombre
      - usaUg
      - usaUt
      type: object
      properties:
        nombre:
          maxLength: 45
          type: string
        usaUg:
          type: boolean
        usaUt:
          type: boolean
        priorizarUgUt:
          $ref: "#/components/schemas/PriorizarUgUtEnum"
        tipoUg:
          $ref: "#/components/schemas/TipoUgDtoActualizacionRequest"
        tipoUt:
          $ref: "#/components/schemas/TipoUtDtoActualizacionRequest"
        gestionRecursos:
          type: boolean
        gestionAdministrativa:
          type: boolean
    TipoEstructuraDtoArbolResponse:
      type: object
      properties:
        idTipoEstructura:
          format: int32
          type: integer
        nombre:
          type: string
        icono:
          type: string
        tipoEntidad:
          type: string
        priorizarUgUt:
          $ref: "#/components/schemas/PriorizarUgUtEnum"
        tipoUgs:
          type: array
          items:
            $ref: "#/components/schemas/TipoUgDtoArbolEstructuraResponse"
        tipoUts:
          type: array
          items:
            $ref: "#/components/schemas/TipoUtDtoArbolEstructuraResponse"
    TipoEstructuraDtoCreacionRequest:
      required:
      - nombre
      type: object
      properties:
        nombre:
          maxLength: 45
          type: string
        priorizarUgUt:
          $ref: "#/components/schemas/PriorizarUgUtEnum"
        tipoUg:
          $ref: "#/components/schemas/TipoUgDtoCreacionPrimerNivelRequest"
        tipoUt:
          $ref: "#/components/schemas/TipoUtDtoCreacionPrimerNivelRequest"
        gestionRecursos:
          type: boolean
        gestionAdministrativa:
          type: boolean
    TipoEstructuraDtoListadoResponse:
      type: object
      properties:
        idTipoEstructura:
          format: int32
          type: integer
        nombre:
          type: string
        nombreUgs:
          type: string
        nombreUts:
          type: string
        usaUg:
          type: boolean
        usaUt:
          type: boolean
        modulos:
          type: array
          items:
            $ref: "#/components/schemas/ModuloEnum"
        gestionRecursos:
          type: boolean
        gestionAdministrativa:
          type: boolean
        usadaPorModulo:
          type: boolean
    TipoEstructuraDtoResponse:
      type: object
      properties:
        idTipoEstructura:
          format: int32
          type: integer
        nombre:
          type: string
        usaUg:
          type: boolean
        usaUt:
          type: boolean
        priorizarUgUt:
          $ref: "#/components/schemas/PriorizarUgUtEnum"
        tipoUg:
          $ref: "#/components/schemas/TipoUgDtoResponse"
        tipoUt:
          $ref: "#/components/schemas/TipoUtDtoResponse"
        gestionRecursos:
          type: boolean
        gestionAdministrativa:
          type: boolean
        usadaPorModulo:
          type: boolean
    TipoEstructuraModuloDtoRequest:
      required:
      - idTipoEstructura
      type: object
      properties:
        idTipoEstructura:
          format: int32
          type: integer
    TipoEstructuraModuloDtoResponse:
      type: object
      properties:
        idTipoEstructura:
          format: int32
          type: integer
        usaUg:
          type: boolean
        usaUt:
          type: boolean
        priorizarUgUt:
          $ref: "#/components/schemas/PriorizarUgUtEnum"
        idTipoUgInterna:
          format: int32
          type: integer
        idUgInterna:
          format: int32
          type: integer
        nombreSingularUg:
          type: string
        nombrePluralUg:
          type: string
        iconoUg:
          type: string
        idTipoUtInterna:
          format: int32
          type: integer
        idUtInterna:
          format: int32
          type: integer
        nombreSingularUt:
          type: string
        nombrePluralUt:
          type: string
        modulo:
          $ref: "#/components/schemas/ModuloEnum"
        iconoUt:
          type: string
        gestionRecursos:
          type: boolean
        gestionAdministrativa:
          type: boolean
    TipoEstructuraTipoDeUsoDtoResponse:
      type: object
      properties:
        gestionRecursos:
          type: boolean
        gestionAdministrativa:
          type: boolean
    TipoRecursoMaterialBasicoDto:
      required:
      - identificador1
      - tieneIdentificador2
      type: object
      properties:
        idTipoRecursoMaterial:
          format: int32
          type: integer
        nombre:
          type: string
        categoria:
          $ref: "#/components/schemas/CategoriaRecursoMaterialDTO_GET1"
        identificador1:
          type: string
        identificador2:
          type: string
        tieneIdentificador2:
          type: boolean
        descripcion:
          type: string
    TipoRecursoMaterialDTO_GET:
      required:
      - nombre
      - identificador1
      - identificador2
      - tieneIdentificador2
      - descripcion
      type: object
      properties:
        nombre:
          maxLength: 256
          minLength: 3
          type: string
        idTipoRecursoUniversal:
          format: int32
          type: integer
        identificador1:
          maxLength: 256
          minLength: 1
          type: string
        identificador2:
          type: string
        tieneIdentificador2:
          type: boolean
        descripcion:
          type: string
        idTipoRecursoMaterial:
          format: int32
          type: integer
        idCategoria:
          format: int32
          type: integer
    TipoRecursoMaterialDTO_POST_PUT:
      required:
      - nombre
      - identificador1
      - identificador2
      - tieneIdentificador2
      - descripcion
      type: object
      properties:
        nombre:
          maxLength: 256
          minLength: 3
          type: string
        idTipoRecursoUniversal:
          format: int32
          type: integer
        identificador1:
          maxLength: 256
          minLength: 1
          type: string
        identificador2:
          type: string
        tieneIdentificador2:
          type: boolean
        descripcion:
          type: string
    TipoUgDtoActualizacionRequest:
      required:
      - nombreSingular
      - nombrePlural
      type: object
      properties:
        idTipoUg:
          format: int32
          type: integer
        idTipoEstructura:
          format: int32
          type: integer
        nombreSingular:
          maxLength: 45
          minLength: 1
          type: string
        nombrePlural:
          maxLength: 45
          minLength: 1
          type: string
        icono:
          maxLength: 45
          minLength: 1
          type: string
        validez:
          format: int32
          type: integer
        unidadTiempoValidez:
          $ref: "#/components/schemas/UnidadTiempoValidezEnum"
    TipoUgDtoArbolEstructuraResponse:
      type: object
      properties:
        idTipoUg:
          format: int32
          type: integer
        nombre:
          type: string
        icono:
          type: string
        tipoEntidad:
          type: string
        tipoUgs:
          type: array
          items:
            $ref: "#/components/schemas/TipoUgDtoArbolEstructuraResponse"
    TipoUgDtoCreacionPrimerNivelRequest:
      required:
      - nombreSingular
      - nombrePlural
      type: object
      properties:
        nombreSingular:
          maxLength: 45
          minLength: 1
          type: string
        nombrePlural:
          maxLength: 45
          minLength: 1
          type: string
        icono:
          maxLength: 45
          minLength: 1
          type: string
    TipoUgDtoCreacionRequest:
      required:
      - idTipoEstructura
      - idTipoUgPadre
      - nombreSingular
      - nombrePlural
      - validez
      - unidadTiempoValidez
      type: object
      properties:
        idTipoEstructura:
          format: int32
          type: integer
        idTipoUgPadre:
          format: int32
          type: integer
        nombreSingular:
          maxLength: 45
          minLength: 1
          type: string
        nombrePlural:
          maxLength: 45
          minLength: 1
          type: string
        icono:
          maxLength: 45
          minLength: 1
          type: string
        validez:
          format: int32
          type: integer
        unidadTiempoValidez:
          $ref: "#/components/schemas/UnidadTiempoValidezEnum"
    TipoUgDtoResponse:
      type: object
      properties:
        idTipoUg:
          format: int32
          type: integer
        idTipoEstructura:
          format: int32
          type: integer
        idTipoUgPadre:
          format: int32
          type: integer
        nivel:
          format: int32
          type: integer
        nombreSingular:
          type: string
        nombrePlural:
          type: string
        icono:
          type: string
        interna:
          type: boolean
        tipoUgs:
          type: array
          items:
            $ref: "#/components/schemas/TipoUgDtoResponse"
        validez:
          format: int32
          type: integer
        unidadTiempoValidez:
          $ref: "#/components/schemas/UnidadTiempoValidezEnum"
    TipoUgIdInternaDtoResponse:
      type: object
      properties:
        idTipoUg:
          format: int32
          type: integer
        interna:
          type: boolean
    TipoUtDtoActualizacionRequest:
      required:
      - nombreSingular
      - nombrePlural
      type: object
      properties:
        idTipoUt:
          format: int32
          type: integer
        idTipoEstructura:
          format: int32
          type: integer
        nombreSingular:
          maxLength: 45
          minLength: 1
          type: string
        nombrePlural:
          maxLength: 45
          minLength: 1
          type: string
        icono:
          maxLength: 45
          minLength: 1
          type: string
        validez:
          format: int32
          type: integer
        unidadTiempoValidez:
          $ref: "#/components/schemas/UnidadTiempoValidezEnum"
    TipoUtDtoArbolEstructuraResponse:
      type: object
      properties:
        idTipoUt:
          format: int32
          type: integer
        nombre:
          type: string
        icono:
          type: string
        tipoEntidad:
          type: string
        tipoUts:
          type: array
          items:
            $ref: "#/components/schemas/TipoUtDtoArbolEstructuraResponse"
    TipoUtDtoCreacionPrimerNivelRequest:
      required:
      - nombreSingular
      - nombrePlural
      type: object
      properties:
        nombreSingular:
          maxLength: 45
          minLength: 1
          type: string
        nombrePlural:
          maxLength: 45
          minLength: 1
          type: string
        icono:
          maxLength: 45
          minLength: 1
          type: string
    TipoUtDtoCreacionRequest:
      required:
      - idTipoEstructura
      - idTipoUtPadre
      - nombreSingular
      - nombrePlural
      type: object
      properties:
        idTipoEstructura:
          format: int32
          type: integer
        idTipoUtPadre:
          format: int32
          type: integer
        nombreSingular:
          maxLength: 45
          minLength: 1
          type: string
        nombrePlural:
          maxLength: 45
          minLength: 1
          type: string
        icono:
          maxLength: 45
          minLength: 1
          type: string
        validez:
          format: int32
          type: integer
        unidadTiempoValidez:
          $ref: "#/components/schemas/UnidadTiempoValidezEnum"
    TipoUtDtoResponse:
      type: object
      properties:
        idTipoUt:
          format: int32
          type: integer
        idTipoEstructura:
          format: int32
          type: integer
        idTipoUtPadre:
          format: int32
          type: integer
        nivel:
          format: int32
          type: integer
        nombreSingular:
          type: string
        nombrePlural:
          type: string
        icono:
          type: string
        interna:
          type: boolean
        tipoUts:
          type: array
          items:
            $ref: "#/components/schemas/TipoUtDtoResponse"
        validez:
          format: int32
          type: integer
        unidadTiempoValidez:
          $ref: "#/components/schemas/UnidadTiempoValidezEnum"
    TipoUtIdInternaDtoResponse:
      type: object
      properties:
        idTipoUt:
          format: int32
          type: integer
        interna:
          type: boolean
    UgArbolDtoResponse:
      type: object
      properties:
        icono:
          type: string
        idEmpresa:
          format: int32
          type: integer
        idUg:
          format: int32
          type: integer
        nombre:
          type: string
        ugs:
          type: array
          items:
            $ref: "#/components/schemas/UgArbolDtoResponse"
    UgCreadaDtoResponse:
      type: object
      properties:
        idEmpresa:
          format: int32
          type: integer
        idUg:
          format: int32
          type: integer
        idUgPadre:
          format: int32
          type: integer
        tipoUg:
          $ref: "#/components/schemas/TipoUgIdInternaDtoResponse"
        nombre:
          type: string
        esPrimerHijo:
          type: boolean
        zonaHoraria:
          $ref: "#/components/schemas/ZoneId"
    UgDTO_POST:
      required:
      - nombre
      - idUgPadre
      - observaciones
      - porDefectoEmpleado
      - porDefectoRecurso
      - fechaDesde
      - fechaHasta
      - porDefectoUsuario
      - porDefectoEmpresa
      - zonaHoraria
      - idTipoUg
      type: object
      properties:
        nombre:
          maxLength: 255
          minLength: 3
          type: string
        idUgPadre:
          format: int32
          pattern: "^\\d{1,15}$"
          type: integer
        observaciones:
          maxLength: 4096
          type: string
        porDefectoEmpleado:
          type: boolean
        porDefectoRecurso:
          type: boolean
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        porDefectoUsuario:
          type: boolean
        porDefectoEmpresa:
          type: boolean
        zonaHoraria:
          $ref: "#/components/schemas/ZoneId"
        idTipoUg:
          format: int32
          type: integer
    UgDTO_PUT:
      required:
      - nombre
      - idUgPadre
      - observaciones
      - porDefectoEmpleado
      - porDefectoRecurso
      - fechaDesde
      - fechaHasta
      - porDefectoUsuario
      - porDefectoEmpresa
      - zonaHoraria
      type: object
      properties:
        nombre:
          maxLength: 255
          minLength: 3
          type: string
        idUgPadre:
          format: int32
          pattern: "^\\d{1,15}$"
          type: integer
        observaciones:
          maxLength: 4096
          type: string
        porDefectoEmpleado:
          type: boolean
        porDefectoRecurso:
          type: boolean
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        porDefectoUsuario:
          type: boolean
        porDefectoEmpresa:
          type: boolean
        zonaHoraria:
          $ref: "#/components/schemas/ZoneId"
    UgDtoResponse:
      type: object
      properties:
        idUg:
          format: int32
          type: integer
        idEmpresa:
          format: int32
          type: integer
        nivel:
          format: int32
          type: integer
        idTipoUg:
          format: int32
          type: integer
        ugs:
          type: array
          items:
            $ref: "#/components/schemas/UgDtoResponse"
        nombre:
          type: string
        idUgPadre:
          format: int32
          type: integer
        observaciones:
          type: string
        porDefectoEmpleado:
          type: boolean
        porDefectoRecurso:
          type: boolean
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        tieneUgsHijas:
          type: boolean
        porDefectoUsuario:
          type: boolean
        porDefectoEmpresa:
          type: boolean
        zonaHoraria:
          $ref: "#/components/schemas/ZoneId"
        idTipoEstructura:
          format: int32
          type: integer
    UgHijaDtoResponse:
      type: object
      properties:
        idUg:
          format: int32
          type: integer
        nombreTipoUg:
          type: string
        nombreUg:
          type: string
    UgTipoEstructuraDtoResponse:
      type: object
      properties:
        idUg:
          format: int32
          type: integer
        idEmpresa:
          format: int32
          type: integer
        idUgPadre:
          format: int32
          type: integer
        nombre:
          type: string
        tipoUg:
          $ref: "#/components/schemas/TipoUgIdInternaDtoResponse"
    UgUtDTO_GET:
      required:
      - idEmpresa
      - idUt
      type: object
      properties:
        idEmpresa:
          format: int32
          pattern: "^\\d{1,15}$"
          type: integer
        idUg:
          format: int32
          pattern: "^\\d{1,15}$"
          type: integer
        idUt:
          format: int32
          pattern: "^\\d{1,15}$"
          type: integer
        nombreUg:
          type: string
        nombreUt:
          type: string
    UnidadTiempoValidezEnum:
      enum:
      - ANOS
      - MESES
      - DIAS
      type: string
    UsuarioDTO_GET:
      required:
      - idUsuario
      type: object
      properties:
        idUsuario:
          format: int32
          type: integer
    UsuarioDtoEstructura:
      type: object
      properties:
        idUsuario:
          format: int32
          type: integer
        email:
          type: string
        nombre:
          type: string
        apellidos:
          type: string
        rol:
          type: string
        activo:
          type: boolean
        fechaActivacion:
          type: string
        federado:
          type: boolean
    UsuarioEmpleadoDTO_GET:
      type: object
      properties:
        empleado:
          $ref: "#/components/schemas/EmpleadoDTO_GET"
        usuario:
          $ref: "#/components/schemas/UsuarioDtoEstructura"
    UsuarioEmpleadoDTO_POST:
      required:
      - idUsuario
      type: object
      properties:
        idUsuario:
          format: int32
          type: integer
    UsuarioNodoFavoritoDto:
      required:
      - tipoEntidadNodo
      - idEntidadNodo
      type: object
      properties:
        tipoEntidadNodo:
          $ref: "#/components/schemas/TipoEntidadNodoEnum"
        idEntidadNodo:
          format: int32
          type: integer
    UsuarioNodoFavoritoDtoGet:
      required:
      - tipoEntidadNodo
      - idEntidadNodo
      - icono
      - nombreEntidadNodo
      type: object
      properties:
        tipoEntidadNodo:
          $ref: "#/components/schemas/TipoEntidadNodoEnum"
        idEntidadNodo:
          format: int32
          type: integer
        icono:
          type: string
        nombreEntidadNodo:
          type: string
    UsuarioUtDtoResponse:
      type: object
      properties:
        idEmpresa:
          format: int32
          type: integer
        idUt:
          format: int32
          type: integer
        idUsuario:
          format: int32
          type: integer
    UtArbolDtoResponse:
      type: object
      properties:
        icono:
          type: string
        idEmpresa:
          format: int32
          type: integer
        idUt:
          format: int32
          type: integer
        nombre:
          type: string
        uts:
          type: array
          items:
            $ref: "#/components/schemas/UtArbolDtoResponse"
    UtCreadaDtoResponse:
      type: object
      properties:
        idEmpresa:
          format: int32
          type: integer
        idUt:
          format: int32
          type: integer
        idUtPadre:
          format: int32
          type: integer
        tipoUt:
          $ref: "#/components/schemas/TipoUtIdInternaDtoResponse"
        nombre:
          type: string
        esPrimerHijo:
          type: boolean
    UtDTO_POST:
      required:
      - nombre
      - idUtPadre
      - observaciones
      - porDefectoEmpleado
      - porDefectoRecurso
      - fechaDesde
      - fechaHasta
      - porDefectoUsuario
      - porDefectoEmpresa
      - idTipoUt
      type: object
      properties:
        nombre:
          maxLength: 255
          minLength: 3
          type: string
        idUtPadre:
          format: int32
          pattern: "^\\d{1,15}$"
          type: integer
        observaciones:
          maxLength: 4096
          type: string
        porDefectoEmpleado:
          type: boolean
        porDefectoRecurso:
          type: boolean
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        porDefectoUsuario:
          type: boolean
        porDefectoEmpresa:
          type: boolean
        idTipoUt:
          format: int32
          type: integer
    UtDTO_PUT:
      required:
      - nombre
      - idUtPadre
      - observaciones
      - porDefectoEmpleado
      - porDefectoRecurso
      - fechaDesde
      - fechaHasta
      - porDefectoUsuario
      - porDefectoEmpresa
      type: object
      properties:
        nombre:
          maxLength: 255
          minLength: 3
          type: string
        idUtPadre:
          format: int32
          pattern: "^\\d{1,15}$"
          type: integer
        observaciones:
          maxLength: 4096
          type: string
        porDefectoEmpleado:
          type: boolean
        porDefectoRecurso:
          type: boolean
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        porDefectoUsuario:
          type: boolean
        porDefectoEmpresa:
          type: boolean
    UtDtoResponse:
      type: object
      properties:
        idUt:
          format: int32
          type: integer
        idEmpresa:
          format: int32
          type: integer
        nivel:
          format: int32
          type: integer
        idTipoUt:
          format: int32
          type: integer
        uts:
          type: array
          items:
            $ref: "#/components/schemas/UtDtoResponse"
        nombre:
          type: string
        idUtPadre:
          format: int32
          type: integer
        observaciones:
          type: string
        porDefectoEmpleado:
          type: boolean
        porDefectoRecurso:
          type: boolean
        fechaDesde:
          type: string
        fechaHasta:
          type: string
        tieneUtsHijas:
          type: boolean
        porDefectoUsuario:
          type: boolean
        porDefectoEmpresa:
          type: boolean
        idTipoEstructura:
          format: int32
          type: integer
    UtHijaDtoResponse:
      type: object
      properties:
        idUt:
          format: int32
          type: integer
        nombreTipoUt:
          type: string
        nombreUt:
          type: string
    UtTipoEstructuraDtoResponse:
      type: object
      properties:
        idUt:
          format: int32
          type: integer
        idEmpresa:
          format: int32
          type: integer
        idUtPadre:
          format: int32
          type: integer
        nombre:
          type: string
        tipoUt:
          $ref: "#/components/schemas/TipoUtIdInternaDtoResponse"
    ValidacionPlantillaImportacionDtoRequest:
      type: object
      properties:
        json:
          type: string
    ZoneId:
      type: object
      properties:
        id:
          type: string
        rules:
          $ref: "#/components/schemas/ZoneRules"
    ZoneOffset:
      type: object
      properties:
        totalSeconds:
          format: int32
          type: integer
        rules:
          $ref: "#/components/schemas/ZoneRules"
    ZoneOffsetTransition:
      type: object
      properties:
        epochSecond:
          format: int64
          type: integer
        transition:
          $ref: "#/components/schemas/LocalDateTime"
        offsetBefore:
          $ref: "#/components/schemas/ZoneOffset"
        offsetAfter:
          $ref: "#/components/schemas/ZoneOffset"
        instant:
          $ref: "#/components/schemas/Instant"
        dateTimeBefore:
          $ref: "#/components/schemas/LocalDateTime"
        dateTimeAfter:
          $ref: "#/components/schemas/LocalDateTime"
        duration:
          $ref: "#/components/schemas/Duration"
        durationSeconds:
          format: int32
          type: integer
        gap:
          type: boolean
        overlap:
          type: boolean
        validOffsets:
          type: array
          items:
            $ref: "#/components/schemas/ZoneOffset"
    ZoneOffsetTransitionRule:
      type: object
      properties:
        month:
          $ref: "#/components/schemas/Month"
        dom:
          format: byte
          type: string
        dow:
          $ref: "#/components/schemas/DayOfWeek"
        time:
          $ref: "#/components/schemas/LocalTime"
        timeEndOfDay:
          type: boolean
        timeDefinition:
          $ref: "#/components/schemas/TimeDefinition"
        standardOffset:
          $ref: "#/components/schemas/ZoneOffset"
        offsetBefore:
          $ref: "#/components/schemas/ZoneOffset"
        offsetAfter:
          $ref: "#/components/schemas/ZoneOffset"
        dayOfMonthIndicator:
          format: int32
          type: integer
        dayOfWeek:
          $ref: "#/components/schemas/DayOfWeek"
        localTime:
          $ref: "#/components/schemas/LocalTime"
        midnightEndOfDay:
          type: boolean
    ZoneRules:
      type: object
      properties:
        standardTransitions:
          type: array
          items:
            format: int64
            type: integer
        standardOffsets:
          type: array
          items:
            $ref: "#/components/schemas/ZoneOffset"
        savingsInstantTransitions:
          type: array
          items:
            format: int64
            type: integer
        savingsLocalTransitions:
          type: array
          items:
            $ref: "#/components/schemas/LocalDateTime"
        wallOffsets:
          type: array
          items:
            $ref: "#/components/schemas/ZoneOffset"
        lastRules:
          type: array
          items:
            $ref: "#/components/schemas/ZoneOffsetTransitionRule"
        fixedOffset:
          type: boolean
        transitions:
          type: array
          items:
            $ref: "#/components/schemas/ZoneOffsetTransition"
        transitionRules:
          type: array
          items:
            $ref: "#/components/schemas/ZoneOffsetTransitionRule"
    ZonedDateTime:
      format: date-time
      type: string
      example: 2022-03-10T12:15:50-04:00
  securitySchemes:
    jwt:
      type: http
      description: Authentication
      scheme: bearer
      bearerFormat: JWT
